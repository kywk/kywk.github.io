"use strict";(self.webpackChunkkywk_me=self.webpackChunkkywk_me||[]).push([["80378"],{89139:function(e,n,s){s.r(n),s.d(n,{frontMatter:()=>l,toc:()=>o,default:()=>a,metadata:()=>r,assets:()=>t,contentTitle:()=>c});var r=JSON.parse('{"id":"utilities/CLI/direnv","title":"direnv","description":"direnv","source":"@site/moco/utilities/CLI/direnv.md","sourceDirName":"utilities/CLI","slug":"/utilities/CLI/direnv","permalink":"/moco/utilities/CLI/direnv","draft":false,"unlisted":false,"tags":[{"inline":true,"label":"CLI","permalink":"/moco/tags/cli"}],"version":"current","sidebarPosition":10,"frontMatter":{"title":"direnv","description":"direnv","image":"https://lh3.googleusercontent.com/pw/AL9nZEUA9Ifvd5Z8SXDWkeVB6AC4MPGwnXaL6kBXNPoXwOQQ2jOcZ1Jw_0p8TKK8C3ZX0e67_FOY15eDrm7aaXSQJcKtoUzC80SAQEHsaBy6qS2AqNNs5VUFNXBKm439y_1wkvmDl-PnL8ReojnIumNlEvOXBg=w800-no?authuser=0","tags":["CLI"],"sidebar_position":10,"hide_table_of_contents":false,"date_created":"2025-06-06T00:00:00.000Z","date_updated":"2025-06-06T00:00:00.000Z"},"sidebar":"tutorialSidebar","previous":{"title":"direnv + gitconfig","permalink":"/moco/utilities/CLI/direnv gitconfig"},"next":{"title":"fzf","permalink":"/moco/utilities/CLI/fzf"}}'),d=s(74848),i=s(84429);let l={title:"direnv",description:"direnv",image:"https://lh3.googleusercontent.com/pw/AL9nZEUA9Ifvd5Z8SXDWkeVB6AC4MPGwnXaL6kBXNPoXwOQQ2jOcZ1Jw_0p8TKK8C3ZX0e67_FOY15eDrm7aaXSQJcKtoUzC80SAQEHsaBy6qS2AqNNs5VUFNXBKm439y_1wkvmDl-PnL8ReojnIumNlEvOXBg=w800-no?authuser=0",tags:["CLI"],sidebar_position:10,hide_table_of_contents:!1,date_created:new Date("2025-06-06T00:00:00.000Z"),date_updated:new Date("2025-06-06T00:00:00.000Z")},c="direnv",t={},o=[{value:"\u{1F331} direnv \u662F\u4EC0\u9EBC\uFF1F",id:"-direnv-\u662F\u4EC0\u9EBC",level:2},{value:"\u{1F527} \u5B89\u88DD direnv",id:"-\u5B89\u88DD-direnv",level:2},{value:"macOS \u5B89\u88DD\uFF1A",id:"macos-\u5B89\u88DD",level:3},{value:"\u52A0\u5165 shell\uFF08\u4EE5 zsh \u70BA\u4F8B\uFF09\uFF1A",id:"\u52A0\u5165-shell\u4EE5-zsh-\u70BA\u4F8B",level:3},{value:"\u{1F4C1} \u4F7F\u7528\u60C5\u5883\u7BC4\u4F8B",id:"-\u4F7F\u7528\u60C5\u5883\u7BC4\u4F8B",level:2},{value:"\u{1F4E6} 1. <strong>\u6BCF\u500B\u5C08\u6848\u4F7F\u7528\u4E0D\u540C\u7684 Python/Node/Go \u7248\u672C</strong>",id:"-1-\u6BCF\u500B\u5C08\u6848\u4F7F\u7528\u4E0D\u540C\u7684-pythonnodego-\u7248\u672C",level:3},{value:"\u2601\uFE0F 2. <strong>\u70BA\u6BCF\u500B\u5C08\u6848\u8A2D\u5B9A\u7368\u7ACB\u7684 API Key\u3001\u74B0\u5883\u8B8A\u6578</strong>",id:"\uFE0F-2-\u70BA\u6BCF\u500B\u5C08\u6848\u8A2D\u5B9A\u7368\u7ACB\u7684-api-key\u74B0\u5883\u8B8A\u6578",level:3},{value:"\u{1F9EA} 3. <strong>\u81EA\u52D5\u555F\u52D5\u865B\u64EC\u74B0\u5883 / docker / \u958B\u767C\u670D\u52D9</strong>",id:"-3-\u81EA\u52D5\u555F\u52D5\u865B\u64EC\u74B0\u5883--docker--\u958B\u767C\u670D\u52D9",level:3},{value:"\u{1FA84} 4. <strong>\u6574\u5408 Node.js\uFF08\u900F\u904E fnm\u3001nvm\uFF09</strong>",id:"-4-\u6574\u5408-nodejs\u900F\u904E-fnmnvm",level:3},{value:"\u26A0\uFE0F \u5B89\u5168\u6027\u63D0\u9192",id:"\uFE0F-\u5B89\u5168\u6027\u63D0\u9192",level:2},{value:"\u2705 \u7E3D\u7D50",id:"-\u7E3D\u7D50",level:2}];function h(e){let n={blockquote:"blockquote",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,i.R)(),...e.components};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(n.header,{children:(0,d.jsx)(n.h1,{id:"direnv",children:"direnv"})}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.code,{children:"direnv"})," \u662F\u4E00\u500B\u5F37\u5927\u7684 CLI \u5DE5\u5177\uFF0C\u5C08\u9580\u7528\u4F86\u5728\u9032\u5165\u67D0\u500B\u76EE\u9304\u6642\u81EA\u52D5\u8F09\u5165\uFF08\u6216\u79FB\u9664\uFF09\u8A72\u76EE\u9304\u4E0B\u5B9A\u7FA9\u7684\u74B0\u5883\u8B8A\u6578\u3002\u9019\u5728\u958B\u767C\u591A\u500B\u5C08\u6848\u3001\u4F7F\u7528\u591A\u7A2E\u8A9E\u8A00\u8207\u5DE5\u5177\u6642\u975E\u5E38\u6709\u7528\uFF0C\u53EF\u4EE5\u8B93\u6BCF\u500B\u5C08\u6848\u64C1\u6709\u7368\u7ACB\u7684\u74B0\u5883\u8A2D\u5B9A\uFF0C",(0,d.jsx)(n.strong,{children:"\u4E0D\u9700\u8981\u624B\u52D5\u5207\u63DB\u6216\u8986\u84CB\u74B0\u5883\u8B8A\u6578"}),"\u3002"]}),"\n",(0,d.jsx)(n.hr,{}),"\n",(0,d.jsx)(n.h2,{id:"-direnv-\u662F\u4EC0\u9EBC",children:"\u{1F331} direnv \u662F\u4EC0\u9EBC\uFF1F"}),"\n",(0,d.jsxs)(n.p,{children:["\u7C21\u55AE\u8AAA\uFF0C",(0,d.jsx)(n.code,{children:"direnv"})," \u6703\u81EA\u52D5\u8F09\u5165\u4E26\u57F7\u884C\u6BCF\u500B\u8CC7\u6599\u593E\u4E2D\u7684 ",(0,d.jsx)(n.code,{children:".envrc"})," \u6A94\u6848\uFF0C\u88E1\u9762\u53EF\u4EE5\u8A2D\u5B9A\u74B0\u5883\u8B8A\u6578\u6216\u57F7\u884C shell \u547D\u4EE4\u3002\u7576\u4F60\u96E2\u958B\u9019\u500B\u8CC7\u6599\u593E\u6642\uFF0C\u5B83\u6703\u300C\u5378\u8F09\u300D\u9019\u4E9B\u8A2D\u5B9A\uFF0C\u56DE\u5230\u539F\u59CB\u74B0\u5883\u3002"]}),"\n",(0,d.jsx)(n.hr,{}),"\n",(0,d.jsx)(n.h2,{id:"-\u5B89\u88DD-direnv",children:"\u{1F527} \u5B89\u88DD direnv"}),"\n",(0,d.jsx)(n.h3,{id:"macos-\u5B89\u88DD",children:"macOS \u5B89\u88DD\uFF1A"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"brew install direnv\n"})}),"\n",(0,d.jsx)(n.h3,{id:"\u52A0\u5165-shell\u4EE5-zsh-\u70BA\u4F8B",children:"\u52A0\u5165 shell\uFF08\u4EE5 zsh \u70BA\u4F8B\uFF09\uFF1A"}),"\n",(0,d.jsxs)(n.p,{children:["\u5728\u4F60\u7684 ",(0,d.jsx)(n.code,{children:"~/.zshrc"})," \u52A0\u5165\uFF1A"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-zsh",children:'eval "$(direnv hook zsh)"\n'})}),"\n",(0,d.jsxs)(n.p,{children:["\u91CD\u65B0\u555F\u52D5 shell \u6216\u57F7\u884C ",(0,d.jsx)(n.code,{children:"source ~/.zshrc"}),"\u3002"]}),"\n",(0,d.jsx)(n.hr,{}),"\n",(0,d.jsx)(n.h2,{id:"-\u4F7F\u7528\u60C5\u5883\u7BC4\u4F8B",children:"\u{1F4C1} \u4F7F\u7528\u60C5\u5883\u7BC4\u4F8B"}),"\n",(0,d.jsxs)(n.h3,{id:"-1-\u6BCF\u500B\u5C08\u6848\u4F7F\u7528\u4E0D\u540C\u7684-pythonnodego-\u7248\u672C",children:["\u{1F4E6} 1. ",(0,d.jsx)(n.strong,{children:"\u6BCF\u500B\u5C08\u6848\u4F7F\u7528\u4E0D\u540C\u7684 Python/Node/Go \u7248\u672C"})]}),"\n",(0,d.jsx)(n.p,{children:"\u5047\u8A2D\u4F60\u5728\u67D0\u500B\u5C08\u6848\u4F7F\u7528 Python 3.11\uFF0C\u53E6\u4E00\u500B\u4F7F\u7528 Python 3.8\uFF1A"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"# \u5728\u6BCF\u500B\u5C08\u6848\u8CC7\u6599\u593E\u4E2D\u65B0\u589E .envrc\uFF1A\necho 'layout python python3.11' > .envrc\ndirenv allow\n"})}),"\n",(0,d.jsx)(n.p,{children:"\u6216\u8005\u4F7F\u7528 pyenv \u7BA1\u7406\uFF1A"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"echo 'export PYENV_VERSION=3.11.3' > .envrc\ndirenv allow\n"})}),"\n",(0,d.jsx)(n.hr,{}),"\n",(0,d.jsxs)(n.h3,{id:"\uFE0F-2-\u70BA\u6BCF\u500B\u5C08\u6848\u8A2D\u5B9A\u7368\u7ACB\u7684-api-key\u74B0\u5883\u8B8A\u6578",children:["\u2601\uFE0F 2. ",(0,d.jsx)(n.strong,{children:"\u70BA\u6BCF\u500B\u5C08\u6848\u8A2D\u5B9A\u7368\u7ACB\u7684 API Key\u3001\u74B0\u5883\u8B8A\u6578"})]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:'# .envrc\nexport AWS_ACCESS_KEY_ID="xxx"\nexport AWS_SECRET_ACCESS_KEY="yyy"\nexport DATABASE_URL="postgres://user:pass@localhost:5432/db"\n'})}),"\n",(0,d.jsxs)(n.p,{children:["\u9019\u6A23\u4F60\u53EA\u8981 ",(0,d.jsx)(n.code,{children:"cd"})," \u5230\u8A72\u8CC7\u6599\u593E\uFF0C\u8B8A\u6578\u5C31\u6703\u81EA\u52D5\u8F09\u5165\uFF1B\u96E2\u958B\u5C31\u6703\u6E05\u9664\u3002"]}),"\n",(0,d.jsx)(n.hr,{}),"\n",(0,d.jsxs)(n.h3,{id:"-3-\u81EA\u52D5\u555F\u52D5\u865B\u64EC\u74B0\u5883--docker--\u958B\u767C\u670D\u52D9",children:["\u{1F9EA} 3. ",(0,d.jsx)(n.strong,{children:"\u81EA\u52D5\u555F\u52D5\u865B\u64EC\u74B0\u5883 / docker / \u958B\u767C\u670D\u52D9"})]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"# .envrc\nlayout python\npoetry shell\n\n# \u6216\u8005\ndocker compose up -d\n"})}),"\n",(0,d.jsxs)(n.p,{children:["\u9019\u6A23\u7576\u4F60 ",(0,d.jsx)(n.code,{children:"cd"})," \u9032\u5C08\u6848\u76EE\u9304\u6642\uFF0C\u958B\u767C\u74B0\u5883\u5C31\u81EA\u52D5\u555F\u52D5\uFF0C\u975E\u5E38\u9069\u5408\u5FAE\u670D\u52D9\u958B\u767C\u3002"]}),"\n",(0,d.jsx)(n.hr,{}),"\n",(0,d.jsxs)(n.h3,{id:"-4-\u6574\u5408-nodejs\u900F\u904E-fnmnvm",children:["\u{1FA84} 4. ",(0,d.jsx)(n.strong,{children:"\u6574\u5408 Node.js\uFF08\u900F\u904E fnm\u3001nvm\uFF09"})]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"# .envrc\nuse node 18\n"})}),"\n",(0,d.jsxs)(n.blockquote,{children:["\n",(0,d.jsxs)(n.p,{children:["\u9700\u642D\u914D ",(0,d.jsx)(n.code,{children:"fnm"})," \u6216 ",(0,d.jsx)(n.code,{children:"asdf"}),"\uFF0C\u9019\u4E9B\u5DE5\u5177\u53EF\u81EA\u52D5\u5728\u5C08\u6848\u4E2D\u5207\u63DB node \u7248\u672C\u3002"]}),"\n"]}),"\n",(0,d.jsx)(n.hr,{}),"\n",(0,d.jsx)(n.h2,{id:"\uFE0F-\u5B89\u5168\u6027\u63D0\u9192",children:"\u26A0\uFE0F \u5B89\u5168\u6027\u63D0\u9192"}),"\n",(0,d.jsxs)(n.p,{children:["\u7576\u4F60\u7B2C\u4E00\u6B21\u5728\u67D0\u500B\u76EE\u9304\u52A0 ",(0,d.jsx)(n.code,{children:".envrc"}),"\uFF0C\u4F60\u5FC5\u9808\u660E\u78BA\u57F7\u884C\uFF1A"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"direnv allow\n"})}),"\n",(0,d.jsxs)(n.p,{children:["\u9019\u662F\u70BA\u4E86\u5B89\u5168\uFF0C\u9632\u6B62\u60E1\u610F ",(0,d.jsx)(n.code,{children:".envrc"})," \u81EA\u52D5\u57F7\u884C\u3002"]}),"\n",(0,d.jsx)(n.hr,{}),"\n",(0,d.jsx)(n.h2,{id:"-\u7E3D\u7D50",children:"\u2705 \u7E3D\u7D50"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"\u4F7F\u7528\u60C5\u5883"}),(0,d.jsx)(n.th,{children:"\u70BA\u4EC0\u9EBC\u7528 direnv"})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"\u591A\u5C08\u6848\u3001\u591A\u74B0\u5883\u958B\u767C"}),(0,d.jsx)(n.td,{children:"\u81EA\u52D5\u5207\u63DB\u74B0\u5883\u8B8A\u6578\uFF0C\u907F\u514D\u6C61\u67D3\u5168\u57DF\u8A2D\u5B9A"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"\u4F7F\u7528\u591A\u7A2E\u7248\u672C\u7BA1\u7406\u5DE5\u5177\uFF08\u5982 pyenv, nvm\uFF09"}),(0,d.jsx)(n.td,{children:"\u81EA\u52D5\u5957\u7528\u5C08\u6848\u4E2D\u6307\u5B9A\u7684\u7248\u672C"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"\u5718\u968A\u5C08\u6848\u9700\u4E00\u81F4\u958B\u767C\u74B0\u5883\u8A2D\u5B9A"}),(0,d.jsxs)(n.td,{children:[(0,d.jsx)(n.code,{children:".envrc"})," \u53EF\u7248\u63A7\uFF08\u5EFA\u8B70\u642D\u914D ",(0,d.jsx)(n.code,{children:".envrc.local"})," \u7BA1\u6A5F\u5BC6\uFF09"]})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"\u6E1B\u5C11 shell \u6307\u4EE4\u75B2\u52DE"}),(0,d.jsxs)(n.td,{children:["\u4E0D\u518D\u624B\u52D5 ",(0,d.jsx)(n.code,{children:"source"})," \u74B0\u5883\u6A94\u6216\u555F\u52D5 venv"]})]})]})]}),"\n",(0,d.jsx)(n.hr,{}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.em,{children:"Assisted by ChatGPT"})})]})}function a(e={}){let{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,d.jsx)(n,{...e,children:(0,d.jsx)(h,{...e})}):h(e)}},84429:function(e,n,s){s.d(n,{R:()=>l,x:()=>c});var r=s(96540);let d={},i=r.createContext(d);function l(e){let n=r.useContext(i);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(d):e.components||d:l(e.components),r.createElement(i.Provider,{value:n},e.children)}}}]);