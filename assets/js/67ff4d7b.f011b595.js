"use strict";(self.webpackChunkkywk_me=self.webpackChunkkywk_me||[]).push([["18338"],{27194:function(e,n,t){t.r(n),t.d(n,{frontMatter:()=>r,toc:()=>u,default:()=>d,metadata:()=>s,assets:()=>o,contentTitle:()=>l});var s=JSON.parse('{"id":"java/springboot/spring/spring_value-defaults","title":"Value Defaults","description":"Spring Core Basics: Value Defaults","source":"@site/moco/java/springboot/spring/spring_value-defaults.md","sourceDirName":"java/springboot/spring","slug":"/java/springboot/spring/spring_value-defaults","permalink":"/moco/java/springboot/spring/spring_value-defaults","draft":false,"unlisted":false,"tags":[{"inline":true,"label":"SpringBoot","permalink":"/moco/tags/spring-boot"},{"inline":true,"label":"Tutorial","permalink":"/moco/tags/tutorial"},{"inline":true,"label":"SpringBoot/CoreBasics","permalink":"/moco/tags/spring-boot-core-basics"},{"inline":true,"label":"SpringBoot/Properties","permalink":"/moco/tags/spring-boot-properties"}],"version":"current","frontMatter":{"title":"Value Defaults","description":"Spring Core Basics: Value Defaults","tags":["SpringBoot","Tutorial","SpringBoot/CoreBasics","SpringBoot/Properties"],"date_created":"2023-08-23T00:00:00.000Z","date_updated":"2023-08-23T00:00:00.000Z","image":"https://lh3.googleusercontent.com/pw/AL9nZEUA9Ifvd5Z8SXDWkeVB6AC4MPGwnXaL6kBXNPoXwOQQ2jOcZ1Jw_0p8TKK8C3ZX0e67_FOY15eDrm7aaXSQJcKtoUzC80SAQEHsaBy6qS2AqNNs5VUFNXBKm439y_1wkvmDl-PnL8ReojnIumNlEvOXBg=w800-no?authuser=0"},"sidebar":"tutorialSidebar","previous":{"title":"Value Annotation","permalink":"/moco/java/springboot/spring/spring_value-annotation"},"next":{"title":"OpenJDK","permalink":"/moco/java/sdk_open-jdk"}}'),a=t(74848),i=t(84429);let r={title:"Value Defaults",description:"Spring Core Basics: Value Defaults",tags:["SpringBoot","Tutorial","SpringBoot/CoreBasics","SpringBoot/Properties"],date_created:new Date("2023-08-23T00:00:00.000Z"),date_updated:new Date("2023-08-23T00:00:00.000Z"),image:"https://lh3.googleusercontent.com/pw/AL9nZEUA9Ifvd5Z8SXDWkeVB6AC4MPGwnXaL6kBXNPoXwOQQ2jOcZ1Jw_0p8TKK8C3ZX0e67_FOY15eDrm7aaXSQJcKtoUzC80SAQEHsaBy6qS2AqNNs5VUFNXBKm439y_1wkvmDl-PnL8ReojnIumNlEvOXBg=w800-no?authuser=0"},l="[Spring] @Value Defaults",o={},u=[{value:"Overview",id:"overview",level:2},{value:"String Defaults",id:"string-defaults",level:2},{value:"Primitives",id:"primitives",level:2},{value:"Arrays",id:"arrays",level:2},{value:"Using SpEL",id:"using-spel",level:2},{value:"Conclusion",id:"conclusion",level:2},{value:"See Also",id:"see-also",level:2}];function c(e){let n={a:"a",blockquote:"blockquote",br:"br",code:"code",em:"em",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"spring-value-defaults",children:"[Spring] @Value Defaults"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsxs)(n.p,{children:["Src: ",(0,a.jsx)(n.a,{href:"https://www.baeldung.com/spring-value-defaults",children:"Using Spring @Value with Defaults | Baeldung"}),(0,a.jsx)(n.br,{}),"\nNoted: 2023-08-23"]}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,a.jsxs)(n.p,{children:["Spring's ",(0,a.jsx)(n.em,{children:"@Value"})," annotation provides a convenient way to inject property values into components.\nIt's also quite useful to ",(0,a.jsx)(n.strong,{children:"provide sensible defaults for cases where a property may not be present"}),"\n\u2014 how to specify a default value for the @Value Spring annotation."]}),"\n",(0,a.jsx)(n.h2,{id:"string-defaults",children:"String Defaults"}),"\n",(0,a.jsxs)(n.p,{children:["Let's look at the basic syntax for setting a default value for a ",(0,a.jsx)(n.em,{children:"String property"}),":"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'@Value("${some.key:my default value}")\nprivate String stringWithDefaultValue;\n'})}),"\n",(0,a.jsxs)(n.p,{children:["If ",(0,a.jsx)(n.em,{children:"some.key"})," cannot be resolved, ",(0,a.jsx)(n.em,{children:"stringWithDefaultValue"})," will be set to the default value of ",(0,a.jsx)(n.em,{children:"my default value"}),"."]}),"\n",(0,a.jsxs)(n.p,{children:["Similarly, we can set a ",(0,a.jsx)(n.em,{children:"zero-length String"})," as the default value:"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'@Value("${some.key:}")\nprivate String stringWithBlankDefaultValue;\n'})}),"\n",(0,a.jsxs)(n.p,{children:["@Value annotation ",(0,a.jsx)(n.code,{children:":"})," \u5F8C\u9762\u5373\u70BA default value. \u6C92\u6709\u7D66\u4EFB\u4F55\u503C\u7684\u8A71\u4E26\u4E0D\u70BA ",(0,a.jsx)(n.code,{children:"null"}),", \u800C\u56E0\u4E0D\u540C\u7269\u4EF6\u6703\u6709\u4E0D\u540C\u8CC7\u6599\u5167\u5BB9.\nString \u7684\u8A71\u6703\u662F\u7A7A\u5B57\u4E32 ",(0,a.jsx)(n.code,{children:'""'})]}),"\n",(0,a.jsx)(n.h2,{id:"primitives",children:"Primitives"}),"\n",(0,a.jsxs)(n.p,{children:["To set a default value for primitive types such as ",(0,a.jsx)(n.em,{children:"boolean"})," and ",(0,a.jsx)(n.em,{children:"int"}),", we use the literal value:"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'@Value("${some.key:true}")\nprivate boolean booleanWithDefaultValue;\n'})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'@Value("${some.key:42}")\nprivate int intWithDefaultValue;\n'})}),"\n",(0,a.jsxs)(n.p,{children:["If we wanted to, we could use primitive wrappers instead by changing the types to ",(0,a.jsx)(n.em,{children:"Boolean"})," and ",(0,a.jsx)(n.em,{children:"Integer"}),"."]}),"\n",(0,a.jsx)(n.h2,{id:"arrays",children:"Arrays"}),"\n",(0,a.jsxs)(n.p,{children:["We can also inject a comma ",(0,a.jsx)(n.code,{children:","})," separated list of values into an array:"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'@Value("${some.key:one,two,three}")\nprivate String[] stringArrayWithDefaults;\n\n@Value("${some.key:1,2,3}")\nprivate int[] intArrayWithDefaults;\n'})}),"\n",(0,a.jsxs)(n.p,{children:["In the first example above, the values ",(0,a.jsx)(n.em,{children:"one"}),", ",(0,a.jsx)(n.em,{children:"two"})," and ",(0,a.jsx)(n.em,{children:"three"})," are injected as defaults into ",(0,a.jsx)(n.em,{children:"stringArrayWithDefaults"}),"."]}),"\n",(0,a.jsx)(n.h2,{id:"using-spel",children:"Using SpEL"}),"\n",(0,a.jsx)(n.p,{children:"We can also use Spring Expression Language (SpEL) to specify an expression and a default."}),"\n",(0,a.jsxs)(n.p,{children:["In the example below, we expect ",(0,a.jsx)(n.em,{children:"some.system.key"})," to be set as a system property,\nand if it is not set, we want to use ",(0,a.jsx)(n.em,{children:"my default system property"})," value as a default:"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:"@Value(\"#{systemProperties['some.key'] ?: 'my default system property value'}\")\nprivate String spelWithDefaultValue;\n"})}),"\n",(0,a.jsx)(n.h2,{id:"conclusion",children:"Conclusion"}),"\n",(0,a.jsxs)(n.p,{children:["Spring @Value \u88E1\u9762\u7684\u7684\u683C\u5F0F\u898F\u7BC4\u985E\u4F3C YAML, \u7528 ",(0,a.jsx)(n.code,{children:","})," \u5340\u9694\u9663\u5217\u5143\u7D20, \u975E\u5FC5\u8981\u4E26\u7121\u9808\u7279\u5225\u52A0\u4E0A ",(0,a.jsx)(n.code,{children:'""'})," ... \u7B49.\n\u4F46\u82E5\u5B57\u4E32\u4E2D\u6709\u6DF7\u96DC\u7279\u6B8A\u5B57\u5143\u7B49\u5C0E\u81F4\u8AA4\u5224, \u53EF\u5229\u7528 ",(0,a.jsx)(n.code,{children:"'"})," \u55AE\u5F15\u865F\u4F86\u5B9A\u7FA9\u5B57\u4E32."]}),"\n",(0,a.jsxs)(n.p,{children:["This article looked at how to set a default value for a property whose value we would like to have injected using Spring's ",(0,a.jsx)(n.em,{children:"@Value"})," annotation."]}),"\n",(0,a.jsxs)(n.p,{children:["As usual, all the code samples used in this article can found in the ",(0,a.jsx)(n.a,{href:"https://github.com/eugenp/tutorials/tree/master/spring-boot-modules/spring-boot-properties-2",children:"GitHub project"}),"."]}),"\n",(0,a.jsx)(n.h2,{id:"see-also",children:"See Also"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"https://github.com/eugenp/tutorials/tree/master/spring-boot-modules/spring-boot-properties-2",children:"GitHub project"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{className:"internal new",href:"/moco/java/springboot/spring/spring_value-annotation/",children:"@Value Annotation"})}),"\n"]})]})}function d(e={}){let{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(c,{...e})}):c(e)}},84429:function(e,n,t){t.d(n,{R:()=>r,x:()=>l});var s=t(96540);let a={},i=s.createContext(a);function r(e){let n=s.useContext(i);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:r(e.components),s.createElement(i.Provider,{value:n},e.children)}}}]);