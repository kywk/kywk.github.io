"use strict";(self.webpackChunkkywk_me=self.webpackChunkkywk_me||[]).push([["89800"],{38911:function(n,e,s){s.r(e),s.d(e,{frontMatter:()=>o,toc:()=>c,default:()=>h,metadata:()=>l,assets:()=>a,contentTitle:()=>r});var l=JSON.parse('{"id":"utilities/CLI/Check Port Usage","title":"IP/Port usage","description":"find IP port usage","source":"@site/moco/utilities/CLI/Check Port Usage.md","sourceDirName":"utilities/CLI","slug":"/utilities/cli/check-port-usage/","permalink":"/moco/utilities/cli/check-port-usage/","draft":false,"unlisted":false,"tags":[{"inline":true,"label":"CLI","permalink":"/moco/tags/cli"}],"version":"current","sidebarPosition":50,"frontMatter":{"title":"IP/Port usage","description":"find IP port usage","image":"https://lh3.googleusercontent.com/pw/AL9nZEUA9Ifvd5Z8SXDWkeVB6AC4MPGwnXaL6kBXNPoXwOQQ2jOcZ1Jw_0p8TKK8C3ZX0e67_FOY15eDrm7aaXSQJcKtoUzC80SAQEHsaBy6qS2AqNNs5VUFNXBKm439y_1wkvmDl-PnL8ReojnIumNlEvOXBg=w800-no?authuser=0","tags":["CLI"],"sidebar_position":50,"hide_table_of_contents":true,"date_created":"2024-05-30T00:00:00.000Z","slug":"/utilities/cli/check-port-usage/"},"sidebar":"tutorialSidebar","previous":{"title":"Bash: snippets","permalink":"/moco/utilities/cli/bash-snippets/"},"next":{"title":"SSH key & config","permalink":"/moco/utilities/cli/ssh-config/"}}'),t=s(74848),i=s(84429);let o={title:"IP/Port usage",description:"find IP port usage",image:"https://lh3.googleusercontent.com/pw/AL9nZEUA9Ifvd5Z8SXDWkeVB6AC4MPGwnXaL6kBXNPoXwOQQ2jOcZ1Jw_0p8TKK8C3ZX0e67_FOY15eDrm7aaXSQJcKtoUzC80SAQEHsaBy6qS2AqNNs5VUFNXBKm439y_1wkvmDl-PnL8ReojnIumNlEvOXBg=w800-no?authuser=0",tags:["CLI"],sidebar_position:50,hide_table_of_contents:!0,date_created:new Date("2024-05-30T00:00:00.000Z"),slug:"/utilities/cli/check-port-usage/"},r="\u7DB2\u8DEF\u57E0\u865F\u4F7F\u7528\u6AA2\u67E5",a={},c=[{value:"\u57FA\u672C\u6AA2\u67E5\u6307\u4EE4",id:"\u57FA\u672C\u6AA2\u67E5\u6307\u4EE4",level:2},{value:"lsof \u6307\u4EE4",id:"lsof-\u6307\u4EE4",level:3},{value:"netstat \u6307\u4EE4",id:"netstat-\u6307\u4EE4",level:3},{value:"ss \u6307\u4EE4 (\u73FE\u4EE3\u5316\u66FF\u4EE3)",id:"ss-\u6307\u4EE4-\u73FE\u4EE3\u5316\u66FF\u4EE3",level:3},{value:"\u8A73\u7D30\u6AA2\u67E5\u65B9\u6CD5",id:"\u8A73\u7D30\u6AA2\u67E5\u65B9\u6CD5",level:2},{value:"\u6309\u5354\u5B9A\u5206\u985E\u6AA2\u67E5",id:"\u6309\u5354\u5B9A\u5206\u985E\u6AA2\u67E5",level:3},{value:"\u6309\u57E0\u865F\u7BC4\u570D\u6AA2\u67E5",id:"\u6309\u57E0\u865F\u7BC4\u570D\u6AA2\u67E5",level:3},{value:"\u6309\u7A0B\u5E8F\u6AA2\u67E5",id:"\u6309\u7A0B\u5E8F\u6AA2\u67E5",level:3},{value:"\u8DE8\u5E73\u53F0\u89E3\u6C7A\u65B9\u6848",id:"\u8DE8\u5E73\u53F0\u89E3\u6C7A\u65B9\u6848",level:2},{value:"macOS \u5C08\u7528\u6307\u4EE4",id:"macos-\u5C08\u7528\u6307\u4EE4",level:3},{value:"Linux \u5C08\u7528\u6307\u4EE4",id:"linux-\u5C08\u7528\u6307\u4EE4",level:3},{value:"Windows \u5C0D\u61C9\u6307\u4EE4",id:"windows-\u5C0D\u61C9\u6307\u4EE4",level:3},{value:"\u5BE6\u7528\u8173\u672C",id:"\u5BE6\u7528\u8173\u672C",level:2},{value:"\u57E0\u865F\u6AA2\u67E5\u8173\u672C",id:"\u57E0\u865F\u6AA2\u67E5\u8173\u672C",level:3},{value:"\u5E38\u7528\u57E0\u865F\u6383\u63CF",id:"\u5E38\u7528\u57E0\u865F\u6383\u63CF",level:3},{value:"\u57E0\u865F\u76E3\u63A7\u8173\u672C",id:"\u57E0\u865F\u76E3\u63A7\u8173\u672C",level:3},{value:"\u9032\u968E\u7528\u6CD5",id:"\u9032\u968E\u7528\u6CD5",level:2},{value:"\u627E\u51FA\u4F54\u7528\u57E0\u865F\u7684\u7A0B\u5E8F\u4E26\u7D42\u6B62",id:"\u627E\u51FA\u4F54\u7528\u57E0\u865F\u7684\u7A0B\u5E8F\u4E26\u7D42\u6B62",level:3},{value:"\u6279\u6B21\u6AA2\u67E5\u670D\u52D9\u72C0\u614B",id:"\u6279\u6B21\u6AA2\u67E5\u670D\u52D9\u72C0\u614B",level:3},{value:"\u7DB2\u8DEF\u9023\u7DDA\u7D71\u8A08",id:"\u7DB2\u8DEF\u9023\u7DDA\u7D71\u8A08",level:3},{value:"\u7591\u96E3\u6392\u89E3",id:"\u7591\u96E3\u6392\u89E3",level:2},{value:"\u5E38\u898B\u554F\u984C",id:"\u5E38\u898B\u554F\u984C",level:3},{value:"\u6548\u80FD\u8003\u91CF",id:"\u6548\u80FD\u8003\u91CF",level:3},{value:"\u5BE6\u7528 Alias",id:"\u5BE6\u7528-alias",level:2},{value:"\u76F8\u95DC\u5DE5\u5177",id:"\u76F8\u95DC\u5DE5\u5177",level:2},{value:"\u7DB2\u8DEF\u6383\u63CF\u5DE5\u5177",id:"\u7DB2\u8DEF\u6383\u63CF\u5DE5\u5177",level:3},{value:"\u76E3\u63A7\u5DE5\u5177",id:"\u76E3\u63A7\u5DE5\u5177",level:3},{value:"See Also",id:"see-also",level:2}];function d(n){let e={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,i.R)(),...n.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(e.header,{children:(0,t.jsx)(e.h1,{id:"\u7DB2\u8DEF\u57E0\u865F\u4F7F\u7528\u6AA2\u67E5",children:"\u7DB2\u8DEF\u57E0\u865F\u4F7F\u7528\u6AA2\u67E5"})}),"\n",(0,t.jsx)(e.p,{children:"\u7CFB\u7D71\u7DB2\u8DEF\u57E0\u865F\u4F7F\u7528\u60C5\u6CC1\u6AA2\u67E5\u5DE5\u5177\u96C6\u5408\uFF0C\u5E6B\u52A9\u8A3A\u65B7\u7DB2\u8DEF\u670D\u52D9\u885D\u7A81\u548C\u57E0\u865F\u4F54\u7528\u554F\u984C\u3002"}),"\n",(0,t.jsx)(e.h2,{id:"\u57FA\u672C\u6AA2\u67E5\u6307\u4EE4",children:"\u57FA\u672C\u6AA2\u67E5\u6307\u4EE4"}),"\n",(0,t.jsx)(e.h3,{id:"lsof-\u6307\u4EE4",children:"lsof \u6307\u4EE4"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-bash",children:"# \u5217\u51FA\u6240\u6709\u76E3\u807D\u4E2D\u7684\u57E0\u865F\nlsof -n -i | grep LISTEN\n\n# \u6AA2\u67E5\u7279\u5B9A\u57E0\u865F\u662F\u5426\u88AB\u4F7F\u7528\nlsof -n -i:3000 | grep LISTEN\n\n# \u6AA2\u67E5\u7279\u5B9A\u5354\u5B9A\u7684\u57E0\u865F\nlsof -n -i tcp | grep LISTEN\nlsof -n -i udp\n"})}),"\n",(0,t.jsx)(e.h3,{id:"netstat-\u6307\u4EE4",children:"netstat \u6307\u4EE4"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-bash",children:"# \u986F\u793A\u6240\u6709\u76E3\u807D\u4E2D\u7684\u57E0\u865F\nnetstat -tuln\n\n# \u986F\u793A\u76E3\u807D\u4E2D\u7684 TCP \u57E0\u865F\nnetstat -tln\n\n# \u986F\u793A\u76E3\u807D\u4E2D\u7684 UDP \u57E0\u865F\nnetstat -uln\n\n# \u986F\u793A\u57E0\u865F\u5C0D\u61C9\u7684\u7A0B\u5E8F\u540D\u7A31\nnetstat -tulnp  # Linux\nnetstat -tuln   # macOS (\u4E0D\u652F\u63F4 -p)\n"})}),"\n",(0,t.jsx)(e.h3,{id:"ss-\u6307\u4EE4-\u73FE\u4EE3\u5316\u66FF\u4EE3",children:"ss \u6307\u4EE4 (\u73FE\u4EE3\u5316\u66FF\u4EE3)"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-bash",children:"# \u986F\u793A\u6240\u6709\u76E3\u807D\u4E2D\u7684\u57E0\u865F (Linux)\nss -tuln\n\n# \u986F\u793A\u76E3\u807D\u4E2D\u7684 TCP \u57E0\u865F\nss -tln\n\n# \u986F\u793A\u57E0\u865F\u5C0D\u61C9\u7684\u7A0B\u5E8F\nss -tulnp\n"})}),"\n",(0,t.jsx)(e.h2,{id:"\u8A73\u7D30\u6AA2\u67E5\u65B9\u6CD5",children:"\u8A73\u7D30\u6AA2\u67E5\u65B9\u6CD5"}),"\n",(0,t.jsx)(e.h3,{id:"\u6309\u5354\u5B9A\u5206\u985E\u6AA2\u67E5",children:"\u6309\u5354\u5B9A\u5206\u985E\u6AA2\u67E5"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-bash",children:"# TCP \u57E0\u865F\u6AA2\u67E5\nlsof -n -i tcp | grep LISTEN\nnetstat -tln\n\n# UDP \u57E0\u865F\u6AA2\u67E5\nlsof -n -i udp\nnetstat -uln\n\n# \u7279\u5B9A IP \u4F4D\u5740\u7684\u57E0\u865F\nlsof -n -i @127.0.0.1\nlsof -n -i @192.168.1.100\n"})}),"\n",(0,t.jsx)(e.h3,{id:"\u6309\u57E0\u865F\u7BC4\u570D\u6AA2\u67E5",children:"\u6309\u57E0\u865F\u7BC4\u570D\u6AA2\u67E5"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-bash",children:'# \u6AA2\u67E5\u7279\u5B9A\u7BC4\u570D\u7684\u57E0\u865F\nlsof -n -i :8000-8999 | grep LISTEN\n\n# \u6AA2\u67E5\u5E38\u7528\u7684\u958B\u767C\u57E0\u865F\nfor port in 3000 8000 8080 9000; do\n    echo "Port $port:"\n    lsof -n -i:$port | grep LISTEN\ndone\n'})}),"\n",(0,t.jsx)(e.h3,{id:"\u6309\u7A0B\u5E8F\u6AA2\u67E5",children:"\u6309\u7A0B\u5E8F\u6AA2\u67E5"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-bash",children:"# \u6AA2\u67E5\u7279\u5B9A\u7A0B\u5E8F\u4F7F\u7528\u7684\u57E0\u865F\nlsof -n -i -c nginx\nlsof -n -i -c node\nlsof -n -i -c python\n\n# \u6AA2\u67E5\u7279\u5B9A PID \u4F7F\u7528\u7684\u57E0\u865F\nlsof -n -i -p 1234\n"})}),"\n",(0,t.jsx)(e.h2,{id:"\u8DE8\u5E73\u53F0\u89E3\u6C7A\u65B9\u6848",children:"\u8DE8\u5E73\u53F0\u89E3\u6C7A\u65B9\u6848"}),"\n",(0,t.jsx)(e.h3,{id:"macos-\u5C08\u7528\u6307\u4EE4",children:"macOS \u5C08\u7528\u6307\u4EE4"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-bash",children:"# \u4F7F\u7528 lsof (\u63A8\u85A6)\nlsof -n -i | grep LISTEN\n\n# \u4F7F\u7528 netstat\nnetstat -an | grep LISTEN\n\n# \u6AA2\u67E5\u7279\u5B9A\u57E0\u865F\u7684\u7A0B\u5E8F\nlsof -n -i:8080 | awk 'NR>1 {print $1, $2}'\n"})}),"\n",(0,t.jsx)(e.h3,{id:"linux-\u5C08\u7528\u6307\u4EE4",children:"Linux \u5C08\u7528\u6307\u4EE4"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-bash",children:"# \u4F7F\u7528 ss (\u63A8\u85A6)\nss -tulnp | grep LISTEN\n\n# \u4F7F\u7528 netstat\nnetstat -tulnp | grep LISTEN\n\n# \u6AA2\u67E5\u57E0\u865F\u5C0D\u61C9\u7684\u7A0B\u5E8F\nfuser 8080/tcp\n"})}),"\n",(0,t.jsx)(e.h3,{id:"windows-\u5C0D\u61C9\u6307\u4EE4",children:"Windows \u5C0D\u61C9\u6307\u4EE4"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-cmd",children:"# Windows \u5C0D\u61C9\u6307\u4EE4\nnetstat -an | findstr LISTENING\nnetstat -ano | findstr :8080\n"})}),"\n",(0,t.jsx)(e.h2,{id:"\u5BE6\u7528\u8173\u672C",children:"\u5BE6\u7528\u8173\u672C"}),"\n",(0,t.jsx)(e.h3,{id:"\u57E0\u865F\u6AA2\u67E5\u8173\u672C",children:"\u57E0\u865F\u6AA2\u67E5\u8173\u672C"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-bash",children:'#!/bin/bash\n# check-ports.sh\n\ncheck_port() {\n    local port=$1\n    local result\n    \n    if command -v lsof >/dev/null 2>&1; then\n        result=$(lsof -n -i:$port | grep LISTEN)\n    elif command -v netstat >/dev/null 2>&1; then\n        result=$(netstat -tuln | grep ":$port ")\n    else\n        echo "Error: Neither lsof nor netstat available"\n        return 1\n    fi\n    \n    if [[ -n "$result" ]]; then\n        echo "Port $port is in use:"\n        echo "$result"\n        return 0\n    else\n        echo "Port $port is available"\n        return 1\n    fi\n}\n\n# \u4F7F\u7528\u65B9\u5F0F\nif [[ $# -eq 0 ]]; then\n    echo "Usage: $0 <port1> [port2] [port3] ..."\n    echo "Example: $0 3000 8080 9000"\n    exit 1\nfi\n\nfor port in "$@"; do\n    check_port "$port"\n    echo\ndone\n'})}),"\n",(0,t.jsx)(e.h3,{id:"\u5E38\u7528\u57E0\u865F\u6383\u63CF",children:"\u5E38\u7528\u57E0\u865F\u6383\u63CF"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-bash",children:'#!/bin/bash\n# scan-common-ports.sh\n\n# \u5E38\u7528\u958B\u767C\u57E0\u865F\nCOMMON_PORTS=(80 443 3000 3001 4000 5000 8000 8080 8443 9000)\n\necho "Scanning common development ports..."\necho "======================================"\n\nfor port in "${COMMON_PORTS[@]}"; do\n    if lsof -n -i:$port | grep -q LISTEN; then\n        process=$(lsof -n -i:$port | grep LISTEN | awk \'{print $1, $2}\' | head -1)\n        echo "\u2713 Port $port: $process"\n    else\n        echo "\u25CB Port $port: Available"\n    fi\ndone\n'})}),"\n",(0,t.jsx)(e.h3,{id:"\u57E0\u865F\u76E3\u63A7\u8173\u672C",children:"\u57E0\u865F\u76E3\u63A7\u8173\u672C"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-bash",children:'#!/bin/bash\n# monitor-ports.sh\n\nMONITOR_PORTS=(3000 8080 9000)\nINTERVAL=5\n\necho "Monitoring ports: ${MONITOR_PORTS[*]}"\necho "Press Ctrl+C to stop"\necho\n\nwhile true; do\n    clear\n    echo "Port Monitor - $(date)"\n    echo "========================"\n    \n    for port in "${MONITOR_PORTS[@]}"; do\n        if result=$(lsof -n -i:$port | grep LISTEN); then\n            process=$(echo "$result" | awk \'{print $1, $2}\' | head -1)\n            echo "Port $port: ACTIVE ($process)"\n        else\n            echo "Port $port: FREE"\n        fi\n    done\n    \n    sleep $INTERVAL\ndone\n'})}),"\n",(0,t.jsx)(e.h2,{id:"\u9032\u968E\u7528\u6CD5",children:"\u9032\u968E\u7528\u6CD5"}),"\n",(0,t.jsx)(e.h3,{id:"\u627E\u51FA\u4F54\u7528\u57E0\u865F\u7684\u7A0B\u5E8F\u4E26\u7D42\u6B62",children:"\u627E\u51FA\u4F54\u7528\u57E0\u865F\u7684\u7A0B\u5E8F\u4E26\u7D42\u6B62"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-bash",children:'# \u627E\u51FA\u4E26\u7D42\u6B62\u4F54\u7528\u7279\u5B9A\u57E0\u865F\u7684\u7A0B\u5E8F\nkill_port() {\n    local port=$1\n    local pid\n    \n    if [[ -z "$port" ]]; then\n        echo "Usage: kill_port <port>"\n        return 1\n    fi\n    \n    pid=$(lsof -n -i:$port | grep LISTEN | awk \'{print $2}\' | head -1)\n    \n    if [[ -n "$pid" ]]; then\n        echo "Killing process $pid using port $port"\n        kill $pid\n    else\n        echo "No process found using port $port"\n    fi\n}\n\n# \u4F7F\u7528\u65B9\u5F0F\nkill_port 3000\n'})}),"\n",(0,t.jsx)(e.h3,{id:"\u6279\u6B21\u6AA2\u67E5\u670D\u52D9\u72C0\u614B",children:"\u6279\u6B21\u6AA2\u67E5\u670D\u52D9\u72C0\u614B"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-bash",children:'# \u6AA2\u67E5\u5E38\u898B\u670D\u52D9\u7684\u57E0\u865F\u72C0\u614B\ncheck_services() {\n    declare -A services=(\n        ["HTTP"]="80"\n        ["HTTPS"]="443"\n        ["SSH"]="22"\n        ["MySQL"]="3306"\n        ["PostgreSQL"]="5432"\n        ["Redis"]="6379"\n        ["MongoDB"]="27017"\n    )\n    \n    echo "Service Status Check"\n    echo "==================="\n    \n    for service in "${!services[@]}"; do\n        port=${services[$service]}\n        if lsof -n -i:$port | grep -q LISTEN; then\n            echo "\u2713 $service (port $port): Running"\n        else\n            echo "\u2717 $service (port $port): Not running"\n        fi\n    done\n}\n'})}),"\n",(0,t.jsx)(e.h3,{id:"\u7DB2\u8DEF\u9023\u7DDA\u7D71\u8A08",children:"\u7DB2\u8DEF\u9023\u7DDA\u7D71\u8A08"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-bash",children:'# \u7D71\u8A08\u7DB2\u8DEF\u9023\u7DDA\u72C0\u614B\nnetwork_stats() {\n    echo "Network Connection Statistics"\n    echo "============================="\n    \n    if command -v ss >/dev/null 2>&1; then\n        echo "TCP Connections:"\n        ss -t state all | tail -n +2 | awk \'{print $1}\' | sort | uniq -c\n        echo\n        echo "Listening Ports:"\n        ss -tuln | grep LISTEN | wc -l\n    elif command -v netstat >/dev/null 2>&1; then\n        echo "TCP Connections:"\n        netstat -t | tail -n +3 | awk \'{print $6}\' | sort | uniq -c\n        echo\n        echo "Listening Ports:"\n        netstat -tuln | grep LISTEN | wc -l\n    fi\n}\n'})}),"\n",(0,t.jsx)(e.h2,{id:"\u7591\u96E3\u6392\u89E3",children:"\u7591\u96E3\u6392\u89E3"}),"\n",(0,t.jsx)(e.h3,{id:"\u5E38\u898B\u554F\u984C",children:"\u5E38\u898B\u554F\u984C"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-bash",children:"# \u6B0A\u9650\u4E0D\u8DB3\n# \u67D0\u4E9B\u7CFB\u7D71\u9700\u8981 sudo \u6B0A\u9650\u624D\u80FD\u770B\u5230\u7A0B\u5E8F\u8CC7\u8A0A\nsudo lsof -n -i | grep LISTEN\nsudo netstat -tulnp | grep LISTEN\n\n# \u6307\u4EE4\u4E0D\u5B58\u5728\n# macOS \u53EF\u80FD\u9700\u8981\u5B89\u88DD lsof\nbrew install lsof\n\n# Linux \u53EF\u80FD\u9700\u8981\u5B89\u88DD net-tools\nsudo apt-get install net-tools  # Ubuntu/Debian\nsudo yum install net-tools      # CentOS/RHEL\n"})}),"\n",(0,t.jsx)(e.h3,{id:"\u6548\u80FD\u8003\u91CF",children:"\u6548\u80FD\u8003\u91CF"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-bash",children:"# \u5C0D\u65BC\u5927\u91CF\u57E0\u865F\u6AA2\u67E5\uFF0C\u4F7F\u7528\u66F4\u6709\u6548\u7387\u7684\u65B9\u6CD5\n# \u907F\u514D\u591A\u6B21\u547C\u53EB lsof\nget_all_listening_ports() {\n    lsof -n -i | grep LISTEN | awk '{print $9}' | cut -d: -f2 | sort -n | uniq\n}\n\n# \u4E00\u6B21\u6027\u7372\u53D6\u6240\u6709\u8CC7\u8A0A\nget_port_info() {\n    lsof -n -i | grep LISTEN | while read line; do\n        process=$(echo $line | awk '{print $1}')\n        pid=$(echo $line | awk '{print $2}')\n        port=$(echo $line | awk '{print $9}' | cut -d: -f2)\n        echo \"Port $port: $process (PID: $pid)\"\n    done | sort -n\n}\n"})}),"\n",(0,t.jsx)(e.h2,{id:"\u5BE6\u7528-alias",children:"\u5BE6\u7528 Alias"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-bash",children:"# ~/.bashrc \u6216 ~/.zshrc\n\n# \u5FEB\u901F\u6AA2\u67E5\u76E3\u807D\u57E0\u865F\nalias ports='lsof -n -i | grep LISTEN'\nalias listening='netstat -tuln | grep LISTEN'\n\n# \u6AA2\u67E5\u7279\u5B9A\u57E0\u865F\nalias port='function _port(){ lsof -n -i:$1 | grep LISTEN; }; _port'\n\n# \u7D42\u6B62\u4F54\u7528\u57E0\u865F\u7684\u7A0B\u5E8F\nalias killport='function _killport(){ kill $(lsof -n -i:$1 | grep LISTEN | awk \"{print \\$2}\"); }; _killport'\n\n# \u986F\u793A\u7DB2\u8DEF\u7D71\u8A08\nalias netstats='ss -tuln | grep LISTEN | wc -l && echo \"listening ports\"'\n"})}),"\n",(0,t.jsx)(e.h2,{id:"\u76F8\u95DC\u5DE5\u5177",children:"\u76F8\u95DC\u5DE5\u5177"}),"\n",(0,t.jsx)(e.h3,{id:"\u7DB2\u8DEF\u6383\u63CF\u5DE5\u5177",children:"\u7DB2\u8DEF\u6383\u63CF\u5DE5\u5177"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-bash",children:"# nmap \u57E0\u865F\u6383\u63CF\nnmap -p 1-1000 localhost\nnmap -sT -O localhost\n\n# nc (netcat) \u57E0\u865F\u6E2C\u8A66\nnc -zv localhost 80\nnc -zv 192.168.1.1 22\n\n# telnet \u9023\u7DDA\u6E2C\u8A66\ntelnet localhost 80\n"})}),"\n",(0,t.jsx)(e.h3,{id:"\u76E3\u63A7\u5DE5\u5177",children:"\u76E3\u63A7\u5DE5\u5177"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-bash",children:"# \u4F7F\u7528 watch \u6301\u7E8C\u76E3\u63A7\nwatch -n 2 'lsof -n -i | grep LISTEN'\n\n# \u4F7F\u7528 htop \u67E5\u770B\u7DB2\u8DEF\u9023\u7DDA\nhtop -F\n\n# \u4F7F\u7528 iftop \u76E3\u63A7\u7DB2\u8DEF\u6D41\u91CF\nsudo iftop\n"})}),"\n",(0,t.jsx)(e.h2,{id:"see-also",children:"See Also"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.a,{className:"internal new",href:"/moco/utilities/cli/ssh-config/",children:"SSH Config"})," - SSH \u57E0\u865F\u914D\u7F6E\u7BA1\u7406"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.a,{className:"internal new",href:"/moco/utilities/cli/awesome-cli/",children:"Awesome CLI"})," - \u73FE\u4EE3\u5316 CLI \u5DE5\u5177\u96C6\u5408"]}),"\n",(0,t.jsx)(e.li,{children:(0,t.jsx)(e.a,{href:"https://man7.org/linux/man-pages/man8/lsof.8.html",children:"lsof \u624B\u518A"})}),"\n",(0,t.jsx)(e.li,{children:(0,t.jsx)(e.a,{href:"https://man7.org/linux/man-pages/man8/netstat.8.html",children:"netstat \u624B\u518A"})}),"\n"]})]})}function h(n={}){let{wrapper:e}={...(0,i.R)(),...n.components};return e?(0,t.jsx)(e,{...n,children:(0,t.jsx)(d,{...n})}):d(n)}},84429:function(n,e,s){s.d(e,{R:()=>o,x:()=>r});var l=s(96540);let t={},i=l.createContext(t);function o(n){let e=l.useContext(i);return l.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function r(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(t):n.components||t:o(n.components),l.createElement(i.Provider,{value:e},n.children)}}}]);