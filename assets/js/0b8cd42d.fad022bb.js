"use strict";(self.webpackChunkkywk_me=self.webpackChunkkywk_me||[]).push([["6125"],{96677:function(e,n,s){s.r(n),s.d(n,{frontMatter:()=>c,toc:()=>r,default:()=>o,metadata:()=>l,assets:()=>t,contentTitle:()=>d});var l=JSON.parse('{"id":"utilities/Linux/Linux System Maintenance","title":"Linux \u7CFB\u7D71\u7DAD\u8B77\u6700\u4F73\u5BE6\u8E10","description":"Linux \u7CFB\u7D71\u65E5\u5E38\u7DAD\u8B77\u3001\u6548\u80FD\u512A\u5316\u3001\u5B89\u5168\u8A2D\u5B9A\u548C\u6545\u969C\u6392\u9664\u6307\u5357","source":"@site/moco/utilities/Linux/Linux System Maintenance.md","sourceDirName":"utilities/Linux","slug":"/utilities/linux/linux-system-maintenance/","permalink":"/moco/utilities/linux/linux-system-maintenance/","draft":false,"unlisted":false,"tags":[{"inline":true,"label":"Linux","permalink":"/moco/tags/linux"},{"inline":true,"label":"System Maintenance","permalink":"/moco/tags/system-maintenance"},{"inline":true,"label":"Performance","permalink":"/moco/tags/performance"},{"inline":true,"label":"Security","permalink":"/moco/tags/security"}],"version":"current","frontMatter":{"title":"Linux \u7CFB\u7D71\u7DAD\u8B77\u6700\u4F73\u5BE6\u8E10","description":"Linux \u7CFB\u7D71\u65E5\u5E38\u7DAD\u8B77\u3001\u6548\u80FD\u512A\u5316\u3001\u5B89\u5168\u8A2D\u5B9A\u548C\u6545\u969C\u6392\u9664\u6307\u5357","tags":["Linux","System Maintenance","Performance","Security"],"date_created":"2024-12-19T00:00:00.000Z","slug":"/utilities/linux/linux-system-maintenance/"},"sidebar":"tutorialSidebar","previous":{"title":"Linux \u57FA\u790E\u6307\u4EE4\u53C3\u8003\u624B\u518A","permalink":"/moco/utilities/linux/linux-commands-reference/"},"next":{"title":"Manjaro Linux \u5B89\u88DD\u6307\u5357","permalink":"/moco/utilities/linux/manjaro-installation-note/"}}'),a=s(74848),i=s(84429);let c={title:"Linux \u7CFB\u7D71\u7DAD\u8B77\u6700\u4F73\u5BE6\u8E10",description:"Linux \u7CFB\u7D71\u65E5\u5E38\u7DAD\u8B77\u3001\u6548\u80FD\u512A\u5316\u3001\u5B89\u5168\u8A2D\u5B9A\u548C\u6545\u969C\u6392\u9664\u6307\u5357",tags:["Linux","System Maintenance","Performance","Security"],date_created:new Date("2024-12-19T00:00:00.000Z"),slug:"/utilities/linux/linux-system-maintenance/"},d="Linux \u7CFB\u7D71\u7DAD\u8B77\u6700\u4F73\u5BE6\u8E10",t={},r=[{value:"\u65E5\u5E38\u7DAD\u8B77\u6AA2\u67E5\u6E05\u55AE",id:"\u65E5\u5E38\u7DAD\u8B77\u6AA2\u67E5\u6E05\u55AE",level:2},{value:"\u6BCF\u65E5\u6AA2\u67E5",id:"\u6BCF\u65E5\u6AA2\u67E5",level:3},{value:"\u6BCF\u9031\u7DAD\u8B77",id:"\u6BCF\u9031\u7DAD\u8B77",level:3},{value:"\u6BCF\u6708\u7DAD\u8B77",id:"\u6BCF\u6708\u7DAD\u8B77",level:3},{value:"\u6548\u80FD\u76E3\u63A7\u8207\u512A\u5316",id:"\u6548\u80FD\u76E3\u63A7\u8207\u512A\u5316",level:2},{value:"\u7CFB\u7D71\u6548\u80FD\u76E3\u63A7",id:"\u7CFB\u7D71\u6548\u80FD\u76E3\u63A7",level:3},{value:"\u958B\u6A5F\u512A\u5316",id:"\u958B\u6A5F\u512A\u5316",level:3},{value:"\u8A18\u61B6\u9AD4\u512A\u5316",id:"\u8A18\u61B6\u9AD4\u512A\u5316",level:3},{value:"\u5B89\u5168\u8A2D\u5B9A",id:"\u5B89\u5168\u8A2D\u5B9A",level:2},{value:"\u57FA\u672C\u5B89\u5168\u63AA\u65BD",id:"\u57FA\u672C\u5B89\u5168\u63AA\u65BD",level:3},{value:"\u9632\u706B\u7246\u8A2D\u5B9A",id:"\u9632\u706B\u7246\u8A2D\u5B9A",level:3},{value:"\u6A94\u6848\u7CFB\u7D71\u5B89\u5168",id:"\u6A94\u6848\u7CFB\u7D71\u5B89\u5168",level:3},{value:"\u5099\u4EFD\u7B56\u7565",id:"\u5099\u4EFD\u7B56\u7565",level:2},{value:"\u7CFB\u7D71\u5099\u4EFD",id:"\u7CFB\u7D71\u5099\u4EFD",level:3},{value:"\u81EA\u52D5\u5316\u5099\u4EFD",id:"\u81EA\u52D5\u5316\u5099\u4EFD",level:3},{value:"\u6545\u969C\u6392\u9664",id:"\u6545\u969C\u6392\u9664",level:2},{value:"\u7CFB\u7D71\u7121\u6CD5\u958B\u6A5F",id:"\u7CFB\u7D71\u7121\u6CD5\u958B\u6A5F",level:3},{value:"\u7CFB\u7D71\u6548\u80FD\u554F\u984C",id:"\u7CFB\u7D71\u6548\u80FD\u554F\u984C",level:3},{value:"\u7DB2\u8DEF\u554F\u984C\u8A3A\u65B7",id:"\u7DB2\u8DEF\u554F\u984C\u8A3A\u65B7",level:3},{value:"\u78C1\u789F\u554F\u984C",id:"\u78C1\u789F\u554F\u984C",level:3},{value:"\u7CFB\u7D71\u76E3\u63A7\u5DE5\u5177",id:"\u7CFB\u7D71\u76E3\u63A7\u5DE5\u5177",level:2},{value:"\u547D\u4EE4\u5217\u5DE5\u5177",id:"\u547D\u4EE4\u5217\u5DE5\u5177",level:3},{value:"\u5716\u5F62\u5316\u76E3\u63A7",id:"\u5716\u5F62\u5316\u76E3\u63A7",level:3},{value:"\u65E5\u8A8C\u76E3\u63A7",id:"\u65E5\u8A8C\u76E3\u63A7",level:3},{value:"\u6548\u80FD\u8ABF\u6821",id:"\u6548\u80FD\u8ABF\u6821",level:2},{value:"CPU \u8ABF\u6821",id:"cpu-\u8ABF\u6821",level:3},{value:"I/O \u8ABF\u6821",id:"io-\u8ABF\u6821",level:3},{value:"\u53C3\u8003\u8CC7\u6E90",id:"\u53C3\u8003\u8CC7\u6E90",level:2},{value:"\u5B98\u65B9\u6587\u4EF6",id:"\u5B98\u65B9\u6587\u4EF6",level:3},{value:"\u76E3\u63A7\u5DE5\u5177",id:"\u76E3\u63A7\u5DE5\u5177",level:3},{value:"\u5B78\u7FD2\u8CC7\u6E90",id:"\u5B78\u7FD2\u8CC7\u6E90",level:3}];function u(e){let n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,i.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"linux-\u7CFB\u7D71\u7DAD\u8B77\u6700\u4F73\u5BE6\u8E10",children:"Linux \u7CFB\u7D71\u7DAD\u8B77\u6700\u4F73\u5BE6\u8E10"})}),"\n",(0,a.jsx)(n.p,{children:"\u672C\u6307\u5357\u63D0\u4F9B Linux \u7CFB\u7D71\u7684\u65E5\u5E38\u7DAD\u8B77\u3001\u6548\u80FD\u512A\u5316\u548C\u5B89\u5168\u8A2D\u5B9A\u5EFA\u8B70\uFF0C\u5E6B\u52A9\u4FDD\u6301\u7CFB\u7D71\u7A69\u5B9A\u904B\u884C\u3002"}),"\n",(0,a.jsx)(n.h2,{id:"\u65E5\u5E38\u7DAD\u8B77\u6AA2\u67E5\u6E05\u55AE",children:"\u65E5\u5E38\u7DAD\u8B77\u6AA2\u67E5\u6E05\u55AE"}),"\n",(0,a.jsx)(n.h3,{id:"\u6BCF\u65E5\u6AA2\u67E5",children:"\u6BCF\u65E5\u6AA2\u67E5"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"# \u7CFB\u7D71\u66F4\u65B0\u6AA2\u67E5\nsudo pacman -Syu    # Arch/Manjaro\nsudo apt update && sudo apt upgrade    # Debian/Ubuntu\n\n# \u78C1\u789F\u7A7A\u9593\u6AA2\u67E5\ndf -h\ndu -sh /var/log/*   # \u6AA2\u67E5\u65E5\u8A8C\u6A94\u6848\u5927\u5C0F\n\n# \u7CFB\u7D71\u8CA0\u8F09\u6AA2\u67E5\nuptime\nfree -h\ntop -bn1 | head -20\n"})}),"\n",(0,a.jsx)(n.h3,{id:"\u6BCF\u9031\u7DAD\u8B77",children:"\u6BCF\u9031\u7DAD\u8B77"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:'# \u6E05\u7406\u5957\u4EF6\u5FEB\u53D6\nsudo pacman -Sc     # Arch/Manjaro\nsudo apt autoremove && sudo apt autoclean    # Debian/Ubuntu\n\n# \u6AA2\u67E5\u7CFB\u7D71\u65E5\u8A8C\njournalctl --since "1 week ago" --priority=err\nsudo dmesg | grep -i error\n\n# \u6AA2\u67E5\u5931\u6557\u7684\u670D\u52D9\nsystemctl --failed\n'})}),"\n",(0,a.jsx)(n.h3,{id:"\u6BCF\u6708\u7DAD\u8B77",children:"\u6BCF\u6708\u7DAD\u8B77"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:'# \u5B8C\u6574\u7CFB\u7D71\u6E05\u7406\nsudo pacman -Scc    # Arch/Manjaro \u6E05\u7406\u6240\u6709\u5FEB\u53D6\nsudo apt autoremove --purge    # Debian/Ubuntu \u6E05\u7406\u5B64\u7ACB\u5957\u4EF6\n\n# \u65E5\u8A8C\u6A94\u6848\u6E05\u7406\nsudo journalctl --vacuum-time=30d\nsudo find /var/log -name "*.log" -type f -mtime +30 -delete\n\n# \u6AA2\u67E5\u78C1\u789F\u5065\u5EB7\nsudo smartctl -a /dev/sda    # \u9700\u5B89\u88DD smartmontools\n'})}),"\n",(0,a.jsx)(n.h2,{id:"\u6548\u80FD\u76E3\u63A7\u8207\u512A\u5316",children:"\u6548\u80FD\u76E3\u63A7\u8207\u512A\u5316"}),"\n",(0,a.jsx)(n.h3,{id:"\u7CFB\u7D71\u6548\u80FD\u76E3\u63A7",children:"\u7CFB\u7D71\u6548\u80FD\u76E3\u63A7"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"# CPU \u4F7F\u7528\u7387\u76E3\u63A7\nhtop                # \u4E92\u52D5\u5F0F\u8655\u7406\u7A0B\u5E8F\u76E3\u63A7\niostat 1 5         # I/O \u7D71\u8A08\nvmstat 1 5          # \u865B\u64EC\u8A18\u61B6\u9AD4\u7D71\u8A08\n\n# \u8A18\u61B6\u9AD4\u4F7F\u7528\u5206\u6790\nfree -h\ncat /proc/meminfo\nps aux --sort=-%mem | head -10    # \u8A18\u61B6\u9AD4\u4F7F\u7528\u6700\u591A\u7684\u7A0B\u5E8F\n\n# \u78C1\u789F I/O \u76E3\u63A7\niotop               # \u9700\u8981 root \u6B0A\u9650\nlsof | grep deleted # \u67E5\u627E\u5DF2\u522A\u9664\u4F46\u4ECD\u88AB\u4F7F\u7528\u7684\u6A94\u6848\n"})}),"\n",(0,a.jsx)(n.h3,{id:"\u958B\u6A5F\u512A\u5316",children:"\u958B\u6A5F\u512A\u5316"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"# \u5206\u6790\u958B\u6A5F\u6642\u9593\nsystemd-analyze\nsystemd-analyze blame\nsystemd-analyze critical-chain\n\n# \u505C\u7528\u4E0D\u9700\u8981\u7684\u670D\u52D9\nsystemctl list-unit-files --type=service --state=enabled\nsudo systemctl disable service_name\n\n# \u6AA2\u67E5\u958B\u6A5F\u8F09\u5165\u7684\u6A21\u7D44\nlsmod\n# \u5C07\u4E0D\u9700\u8981\u7684\u6A21\u7D44\u52A0\u5165\u9ED1\u540D\u55AE\necho 'blacklist module_name' | sudo tee -a /etc/modprobe.d/blacklist.conf\n"})}),"\n",(0,a.jsx)(n.h3,{id:"\u8A18\u61B6\u9AD4\u512A\u5316",children:"\u8A18\u61B6\u9AD4\u512A\u5316"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"# \u8ABF\u6574 swappiness\uFF08\u5EFA\u8B70\u503C\uFF1A10-60\uFF09\necho 'vm.swappiness=10' | sudo tee -a /etc/sysctl.conf\n\n# \u6E05\u7406\u8A18\u61B6\u9AD4\u5FEB\u53D6\uFF08\u8B39\u614E\u4F7F\u7528\uFF09\nsudo sync\necho 3 | sudo tee /proc/sys/vm/drop_caches\n\n# \u6AA2\u67E5\u8A18\u61B6\u9AD4\u6D29\u6F0F\nvalgrind --tool=memcheck --leak-check=full program_name\n"})}),"\n",(0,a.jsx)(n.h2,{id:"\u5B89\u5168\u8A2D\u5B9A",children:"\u5B89\u5168\u8A2D\u5B9A"}),"\n",(0,a.jsx)(n.h3,{id:"\u57FA\u672C\u5B89\u5168\u63AA\u65BD",children:"\u57FA\u672C\u5B89\u5168\u63AA\u65BD"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"# \u66F4\u65B0\u7CFB\u7D71\u5B89\u5168\u88DC\u4E01\nsudo pacman -Syu    # \u5B9A\u671F\u66F4\u65B0\n\n# \u6AA2\u67E5\u958B\u653E\u7684\u7DB2\u8DEF\u57E0\nsudo netstat -tuln\nsudo ss -tuln\nnmap localhost      # \u6383\u63CF\u672C\u6A5F\u958B\u653E\u57E0\n\n# \u6AA2\u67E5\u767B\u5165\u8A18\u9304\nlast                # \u6700\u8FD1\u767B\u5165\u8A18\u9304\nlastlog             # \u6240\u6709\u7528\u6236\u6700\u5F8C\u767B\u5165\u6642\u9593\nsudo journalctl _COMM=sshd    # SSH \u767B\u5165\u8A18\u9304\n"})}),"\n",(0,a.jsx)(n.h3,{id:"\u9632\u706B\u7246\u8A2D\u5B9A",children:"\u9632\u706B\u7246\u8A2D\u5B9A"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"# UFW (Uncomplicated Firewall)\nsudo ufw enable\nsudo ufw default deny incoming\nsudo ufw default allow outgoing\nsudo ufw allow ssh\nsudo ufw allow 80/tcp\nsudo ufw status verbose\n\n# iptables \u57FA\u672C\u898F\u5247\nsudo iptables -L\nsudo iptables -A INPUT -p tcp --dport 22 -j ACCEPT\nsudo iptables -A INPUT -j DROP\n"})}),"\n",(0,a.jsx)(n.h3,{id:"\u6A94\u6848\u7CFB\u7D71\u5B89\u5168",children:"\u6A94\u6848\u7CFB\u7D71\u5B89\u5168"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"# \u6AA2\u67E5\u6A94\u6848\u6B0A\u9650\nfind /home -type f -perm 777    # \u67E5\u627E\u6240\u6709\u4EBA\u53EF\u5BEB\u7684\u6A94\u6848\nfind /etc -type f -perm /o+w    # \u67E5\u627E\u5176\u4ED6\u7528\u6236\u53EF\u5BEB\u7684\u7CFB\u7D71\u6A94\u6848\n\n# \u6AA2\u67E5 SUID/SGID \u6A94\u6848\nfind / -type f \\( -perm -4000 -o -perm -2000 \\) -exec ls -l {} \\;\n\n# \u6A94\u6848\u5B8C\u6574\u6027\u6AA2\u67E5\nsudo aide --init    # \u521D\u59CB\u5316 AIDE \u8CC7\u6599\u5EAB\nsudo aide --check   # \u6AA2\u67E5\u6A94\u6848\u8B8A\u66F4\n"})}),"\n",(0,a.jsx)(n.h2,{id:"\u5099\u4EFD\u7B56\u7565",children:"\u5099\u4EFD\u7B56\u7565"}),"\n",(0,a.jsx)(n.h3,{id:"\u7CFB\u7D71\u5099\u4EFD",children:"\u7CFB\u7D71\u5099\u4EFD"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"# \u4F7F\u7528 rsync \u5099\u4EFD\nrsync -avH --delete /home/user/ /backup/home/user/\nrsync -avH --delete --exclude-from=/etc/rsync-exclude.txt / /backup/system/\n\n# \u4F7F\u7528 tar \u5099\u4EFD\nsudo tar -czf /backup/system-$(date +%Y%m%d).tar.gz \\\n    --exclude=/proc --exclude=/sys --exclude=/dev \\\n    --exclude=/tmp --exclude=/backup /\n\n# \u8CC7\u6599\u5EAB\u5099\u4EFD\uFF08\u5982\u679C\u9069\u7528\uFF09\nmysqldump -u root -p --all-databases > /backup/mysql-$(date +%Y%m%d).sql\n"})}),"\n",(0,a.jsx)(n.h3,{id:"\u81EA\u52D5\u5316\u5099\u4EFD",children:"\u81EA\u52D5\u5316\u5099\u4EFD"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:'# \u5275\u5EFA\u5099\u4EFD\u8173\u672C\ncat > /usr/local/bin/backup.sh << \'EOF\'\n#!/bin/bash\nBACKUP_DIR="/backup"\nDATE=$(date +%Y%m%d)\n\n# \u7CFB\u7D71\u914D\u7F6E\u5099\u4EFD\ntar -czf "$BACKUP_DIR/config-$DATE.tar.gz" /etc\n\n# \u7528\u6236\u8CC7\u6599\u5099\u4EFD\nrsync -avH --delete /home/ "$BACKUP_DIR/home/"\n\n# \u6E05\u7406\u820A\u5099\u4EFD\uFF08\u4FDD\u7559 30 \u5929\uFF09\nfind "$BACKUP_DIR" -name "*.tar.gz" -mtime +30 -delete\nEOF\n\nchmod +x /usr/local/bin/backup.sh\n\n# \u8A2D\u5B9A cron \u4EFB\u52D9\necho "0 2 * * * /usr/local/bin/backup.sh" | crontab -\n'})}),"\n",(0,a.jsx)(n.h2,{id:"\u6545\u969C\u6392\u9664",children:"\u6545\u969C\u6392\u9664"}),"\n",(0,a.jsx)(n.h3,{id:"\u7CFB\u7D71\u7121\u6CD5\u958B\u6A5F",children:"\u7CFB\u7D71\u7121\u6CD5\u958B\u6A5F"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"# \u4F7F\u7528 Live USB \u4FEE\u5FA9\n# 1. \u639B\u8F09\u6839\u5206\u5272\u5340\nsudo mount /dev/sdaX /mnt\nsudo mount /dev/sdaY /mnt/boot    # \u5982\u679C\u6709\u7368\u7ACB boot \u5206\u5272\u5340\n\n# 2. chroot \u5230\u7CFB\u7D71\nsudo arch-chroot /mnt    # Arch/Manjaro\n# \u6216\nsudo chroot /mnt /bin/bash    # \u5176\u4ED6\u767C\u884C\u7248\n\n# 3. \u4FEE\u5FA9 GRUB\ngrub-install /dev/sda\ngrub-mkconfig -o /boot/grub/grub.cfg\n"})}),"\n",(0,a.jsx)(n.h3,{id:"\u7CFB\u7D71\u6548\u80FD\u554F\u984C",children:"\u7CFB\u7D71\u6548\u80FD\u554F\u984C"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"# \u6AA2\u67E5\u7CFB\u7D71\u8CA0\u8F09\nuptime\ncat /proc/loadavg\n\n# \u627E\u51FA\u4F54\u7528\u8CC7\u6E90\u7684\u7A0B\u5E8F\nps aux --sort=-%cpu | head -10    # CPU \u4F7F\u7528\u7387\nps aux --sort=-%mem | head -10    # \u8A18\u61B6\u9AD4\u4F7F\u7528\u7387\n\n# \u6AA2\u67E5 I/O \u7B49\u5F85\niostat -x 1 5\niotop -o    # \u53EA\u986F\u793A\u6709 I/O \u6D3B\u52D5\u7684\u7A0B\u5E8F\n"})}),"\n",(0,a.jsx)(n.h3,{id:"\u7DB2\u8DEF\u554F\u984C\u8A3A\u65B7",children:"\u7DB2\u8DEF\u554F\u984C\u8A3A\u65B7"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"# \u57FA\u672C\u7DB2\u8DEF\u6AA2\u67E5\nping -c 4 8.8.8.8          # \u6E2C\u8A66\u5916\u7DB2\u9023\u7DDA\nping -c 4 gateway_ip       # \u6E2C\u8A66\u9598\u9053\u9023\u7DDA\nnslookup google.com        # DNS \u89E3\u6790\u6E2C\u8A66\n\n# \u7DB2\u8DEF\u4ECB\u9762\u6AA2\u67E5\nip addr show\nip route show\ncat /etc/resolv.conf       # DNS \u8A2D\u5B9A\n\n# \u7DB2\u8DEF\u670D\u52D9\u6AA2\u67E5\nsystemctl status NetworkManager\nsystemctl status systemd-networkd\n"})}),"\n",(0,a.jsx)(n.h3,{id:"\u78C1\u789F\u554F\u984C",children:"\u78C1\u789F\u554F\u984C"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:'# \u6AA2\u67E5\u78C1\u789F\u932F\u8AA4\nsudo dmesg | grep -i "error\\|fail"\nsudo smartctl -a /dev/sda\n\n# \u6A94\u6848\u7CFB\u7D71\u6AA2\u67E5\nsudo fsck /dev/sdaX        # \u9700\u5148\u5378\u8F09\u5206\u5272\u5340\nsudo e2fsck -f /dev/sdaX   # ext2/3/4 \u6A94\u6848\u7CFB\u7D71\n\n# \u78C1\u789F\u7A7A\u9593\u5206\u6790\nncdu /                     # \u4E92\u52D5\u5F0F\u78C1\u789F\u4F7F\u7528\u5206\u6790\nbaobab                     # \u5716\u5F62\u5316\u78C1\u789F\u4F7F\u7528\u5206\u6790\n'})}),"\n",(0,a.jsx)(n.h2,{id:"\u7CFB\u7D71\u76E3\u63A7\u5DE5\u5177",children:"\u7CFB\u7D71\u76E3\u63A7\u5DE5\u5177"}),"\n",(0,a.jsx)(n.h3,{id:"\u547D\u4EE4\u5217\u5DE5\u5177",children:"\u547D\u4EE4\u5217\u5DE5\u5177"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"# \u5B89\u88DD\u5E38\u7528\u76E3\u63A7\u5DE5\u5177\nsudo pacman -S htop iotop nethogs ncdu    # Arch/Manjaro\nsudo apt install htop iotop nethogs ncdu  # Debian/Ubuntu\n\n# \u7CFB\u7D71\u8CC7\u8A0A\u5DE5\u5177\nneofetch               # \u7CFB\u7D71\u8CC7\u8A0A\u5C55\u793A\ninxi -Fxz              # \u8A73\u7D30\u786C\u9AD4\u8CC7\u8A0A\nlshw                   # \u786C\u9AD4\u5217\u8868\n"})}),"\n",(0,a.jsx)(n.h3,{id:"\u5716\u5F62\u5316\u76E3\u63A7",children:"\u5716\u5F62\u5316\u76E3\u63A7"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"# \u5B89\u88DD\u5716\u5F62\u5316\u76E3\u63A7\u5DE5\u5177\nsudo pacman -S gnome-system-monitor baobab    # GNOME\nsudo pacman -S ksysguard filelight            # KDE\nsudo pacman -S xfce4-taskmanager              # Xfce\n"})}),"\n",(0,a.jsx)(n.h3,{id:"\u65E5\u8A8C\u76E3\u63A7",children:"\u65E5\u8A8C\u76E3\u63A7"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:'# journalctl \u5E38\u7528\u6307\u4EE4\njournalctl -f                    # \u5373\u6642\u76E3\u63A7\njournalctl -u service_name       # \u7279\u5B9A\u670D\u52D9\u65E5\u8A8C\njournalctl --since "1 hour ago"  # \u6642\u9593\u7BC4\u570D\njournalctl -p err                # \u932F\u8AA4\u7B49\u7D1A\u65E5\u8A8C\njournalctl --disk-usage          # \u65E5\u8A8C\u4F54\u7528\u7A7A\u9593\n'})}),"\n",(0,a.jsx)(n.h2,{id:"\u6548\u80FD\u8ABF\u6821",children:"\u6548\u80FD\u8ABF\u6821"}),"\n",(0,a.jsx)(n.h3,{id:"cpu-\u8ABF\u6821",children:"CPU \u8ABF\u6821"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"# CPU \u983B\u7387\u8ABF\u6574\ncpupower frequency-info          # \u67E5\u770B CPU \u983B\u7387\u8CC7\u8A0A\nsudo cpupower frequency-set -g performance    # \u6548\u80FD\u6A21\u5F0F\nsudo cpupower frequency-set -g powersave      # \u7701\u96FB\u6A21\u5F0F\n\n# CPU \u8ABF\u5EA6\u5668\u8ABF\u6574\ncat /sys/block/sda/queue/scheduler\necho mq-deadline | sudo tee /sys/block/sda/queue/scheduler\n"})}),"\n",(0,a.jsx)(n.h3,{id:"io-\u8ABF\u6821",children:"I/O \u8ABF\u6821"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"# \u8ABF\u6574 I/O \u8ABF\u5EA6\u5668\necho deadline | sudo tee /sys/block/sda/queue/scheduler\n\n# \u8ABF\u6574\u6A94\u6848\u7CFB\u7D71\u53C3\u6578\nsudo tune2fs -o journal_data_writeback /dev/sdaX\nmount -o remount,noatime /\n"})}),"\n",(0,a.jsx)(n.h2,{id:"\u53C3\u8003\u8CC7\u6E90",children:"\u53C3\u8003\u8CC7\u6E90"}),"\n",(0,a.jsx)(n.h3,{id:"\u5B98\u65B9\u6587\u4EF6",children:"\u5B98\u65B9\u6587\u4EF6"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"https://wiki.archlinux.org/title/System_maintenance",children:"Arch Wiki - System Maintenance"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"https://ubuntu.com/server/docs",children:"Ubuntu Server Guide"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"https://access.redhat.com/documentation/",children:"Red Hat System Administrator's Guide"})}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"\u76E3\u63A7\u5DE5\u5177",children:"\u76E3\u63A7\u5DE5\u5177"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.a,{href:"https://www.nagios.org/",children:"Nagios"})," - \u4F01\u696D\u7D1A\u76E3\u63A7"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.a,{href:"https://www.zabbix.com/",children:"Zabbix"})," - \u958B\u6E90\u76E3\u63A7\u89E3\u6C7A\u65B9\u6848"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.a,{href:"https://prometheus.io/",children:"Prometheus"})," - \u73FE\u4EE3\u76E3\u63A7\u7CFB\u7D71"]}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"\u5B78\u7FD2\u8CC7\u6E90",children:"\u5B78\u7FD2\u8CC7\u6E90"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"http://www.brendangregg.com/linuxperf.html",children:"Linux Performance"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"https://www.thegeekstuff.com/",children:"The Geek Stuff"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"https://www.linuxjournal.com/",children:"Linux Journal"})}),"\n"]})]})}function o(e={}){let{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(u,{...e})}):u(e)}},84429:function(e,n,s){s.d(n,{R:()=>c,x:()=>d});var l=s(96540);let a={},i=l.createContext(a);function c(e){let n=l.useContext(i);return l.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:c(e.components),l.createElement(i.Provider,{value:n},e.children)}}}]);