"use strict";(self.webpackChunkkywk_me=self.webpackChunkkywk_me||[]).push([["83963"],{96146:function(e,n,r){r.r(n),r.d(n,{frontMatter:()=>d,toc:()=>i,default:()=>p,metadata:()=>c,assets:()=>a,contentTitle:()=>l});var c=JSON.parse('{"id":"DevSecOps/Docker/Docker CLI Snippets","title":"Docker CLI Snippets","description":"Docker command snippets","source":"@site/moco/DevSecOps/Docker/Docker CLI Snippets.md","sourceDirName":"DevSecOps/Docker","slug":"/devsecops/docker/docker-cli-snippets/","permalink":"/moco/devsecops/docker/docker-cli-snippets/","draft":false,"unlisted":false,"tags":[{"inline":true,"label":"Docker","permalink":"/moco/tags/docker"}],"version":"current","frontMatter":{"title":"Docker CLI Snippets","description":"Docker command snippets","tags":["Docker"],"hide_table_of_contents":false,"date_created":"2023-01-04T00:00:00.000Z","date_updated":"2023-01-04T00:00:00.000Z","image":"https://lh3.googleusercontent.com/pw/AL9nZEUA9Ifvd5Z8SXDWkeVB6AC4MPGwnXaL6kBXNPoXwOQQ2jOcZ1Jw_0p8TKK8C3ZX0e67_FOY15eDrm7aaXSQJcKtoUzC80SAQEHsaBy6qS2AqNNs5VUFNXBKm439y_1wkvmDl-PnL8ReojnIumNlEvOXBg=w800-no?authuser=0\\n","slug":"/devsecops/docker/docker-cli-snippets/"},"sidebar":"tutorialSidebar","previous":{"title":"Auth","permalink":"/moco/devsecops/docker/docker-auth/"},"next":{"title":"HEALTHCHECK \u5065\u5EB7\u6AA2\u67E5","permalink":"/moco/devsecops/docker/dockerfile-healthcheck/"}}'),o=r(74848),s=r(84429);let d={title:"Docker CLI Snippets",description:"Docker command snippets",tags:["Docker"],hide_table_of_contents:!1,date_created:new Date("2023-01-04T00:00:00.000Z"),date_updated:new Date("2023-01-04T00:00:00.000Z"),image:"https://lh3.googleusercontent.com/pw/AL9nZEUA9Ifvd5Z8SXDWkeVB6AC4MPGwnXaL6kBXNPoXwOQQ2jOcZ1Jw_0p8TKK8C3ZX0e67_FOY15eDrm7aaXSQJcKtoUzC80SAQEHsaBy6qS2AqNNs5VUFNXBKm439y_1wkvmDl-PnL8ReojnIumNlEvOXBg=w800-no?authuser=0\n",slug:"/devsecops/docker/docker-cli-snippets/"},l="Docker CLI \u6307\u4EE4\u96C6\u5408",a={},i=[{value:"\u5BB9\u5668\u7BA1\u7406",id:"\u5BB9\u5668\u7BA1\u7406",level:2},{value:"\u5BB9\u5668\u751F\u547D\u9031\u671F",id:"\u5BB9\u5668\u751F\u547D\u9031\u671F",level:3},{value:"\u5BB9\u5668\u67E5\u8A62",id:"\u5BB9\u5668\u67E5\u8A62",level:3},{value:"\u5BB9\u5668\u4E92\u52D5",id:"\u5BB9\u5668\u4E92\u52D5",level:3},{value:"\u93E1\u50CF\u7BA1\u7406",id:"\u93E1\u50CF\u7BA1\u7406",level:2},{value:"\u93E1\u50CF\u64CD\u4F5C",id:"\u93E1\u50CF\u64CD\u4F5C",level:3},{value:"\u93E1\u50CF\u5EFA\u7F6E",id:"\u93E1\u50CF\u5EFA\u7F6E",level:3},{value:"\u93E1\u50CF\u50B3\u8F38",id:"\u93E1\u50CF\u50B3\u8F38",level:3},{value:"\u7DB2\u8DEF\u8207\u5132\u5B58",id:"\u7DB2\u8DEF\u8207\u5132\u5B58",level:2},{value:"\u7DB2\u8DEF\u914D\u7F6E",id:"\u7DB2\u8DEF\u914D\u7F6E",level:3},{value:"\u5132\u5B58\u6620\u5C04",id:"\u5132\u5B58\u6620\u5C04",level:3},{value:"\u5BE6\u7528\u6307\u4EE4\u7D44\u5408",id:"\u5BE6\u7528\u6307\u4EE4\u7D44\u5408",level:2},{value:"\u958B\u767C\u74B0\u5883",id:"\u958B\u767C\u74B0\u5883",level:3},{value:"\u6E2C\u8A66\u8207\u9664\u932F",id:"\u6E2C\u8A66\u8207\u9664\u932F",level:3},{value:"\u6E05\u7406\u8207\u7DAD\u8B77",id:"\u6E05\u7406\u8207\u7DAD\u8B77",level:3},{value:"See Also",id:"see-also",level:2}];function t(e){let n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"docker-cli-\u6307\u4EE4\u96C6\u5408",children:"Docker CLI \u6307\u4EE4\u96C6\u5408"})}),"\n",(0,o.jsx)(n.p,{children:"Docker \u5E38\u7528\u6307\u4EE4\u548C\u6280\u5DE7\u96C6\u5408\uFF0C\u6DB5\u84CB\u5BB9\u5668\u7BA1\u7406\u3001\u93E1\u50CF\u64CD\u4F5C\u548C\u7DB2\u8DEF\u914D\u7F6E\u7B49\u5E38\u7528\u5834\u666F\u3002"}),"\n",(0,o.jsx)(n.h2,{id:"\u5BB9\u5668\u7BA1\u7406",children:"\u5BB9\u5668\u7BA1\u7406"}),"\n",(0,o.jsx)(n.h3,{id:"\u5BB9\u5668\u751F\u547D\u9031\u671F",children:"\u5BB9\u5668\u751F\u547D\u9031\u671F"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"# \u904B\u884C\u5BB9\u5668\ndocker run [OPTIONS] IMAGE [COMMAND] [ARG...]\ndocker run -d --name myapp nginx:alpine\n\n# \u505C\u6B62\u5BB9\u5668\ndocker stop CONTAINER_ID\ndocker stop myapp\n\n# \u555F\u52D5\u5BB9\u5668\ndocker start CONTAINER_ID\ndocker start myapp\n\n# \u91CD\u555F\u5BB9\u5668\ndocker restart CONTAINER_ID\n\n# \u522A\u9664\u5BB9\u5668\ndocker rm CONTAINER_ID\ndocker rm -f myapp  # \u5F37\u5236\u522A\u9664\u904B\u884C\u4E2D\u7684\u5BB9\u5668\n"})}),"\n",(0,o.jsx)(n.h3,{id:"\u5BB9\u5668\u67E5\u8A62",children:"\u5BB9\u5668\u67E5\u8A62"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"# \u5217\u51FA\u6240\u6709\u5BB9\u5668\ndocker ps -a\n\n# \u5217\u51FA\u904B\u884C\u4E2D\u7684\u5BB9\u5668\ndocker ps\n\n# \u67E5\u770B\u5BB9\u5668\u8A73\u7D30\u8CC7\u8A0A\ndocker inspect CONTAINER_ID\n\n# \u67E5\u770B\u5BB9\u5668\u65E5\u8A8C\ndocker logs CONTAINER_ID\ndocker logs -f --tail 100 CONTAINER_ID  # \u5373\u6642\u8FFD\u8E64\u65E5\u8A8C\n\n# \u67E5\u770B\u5BB9\u5668\u8CC7\u6E90\u4F7F\u7528\ndocker stats CONTAINER_ID\ndocker stats --no-stream  # \u4E0D\u6301\u7E8C\u66F4\u65B0\n"})}),"\n",(0,o.jsx)(n.h3,{id:"\u5BB9\u5668\u4E92\u52D5",children:"\u5BB9\u5668\u4E92\u52D5"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"# \u9032\u5165\u5BB9\u5668\ndocker exec -it CONTAINER_ID /bin/bash\ndocker exec -it CONTAINER_ID /bin/sh  # Alpine Linux\n\n# \u57F7\u884C\u55AE\u4E00\u6307\u4EE4\ndocker exec CONTAINER_ID ls -la /app\n\n# \u9644\u52A0\u5230\u904B\u884C\u4E2D\u7684\u5BB9\u5668\ndocker attach [OPTIONS] CONTAINER\n"})}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"\u9644\u52A0\u6A21\u5F0F\u63A7\u5236\u9375"}),"\uFF1A"]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"CTRL-C"})," \u767C\u9001 ",(0,o.jsx)(n.strong,{children:"SIGINT"})," \u4FE1\u865F\u7D66\u5BB9\u5668"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"CTRL-P CTRL-Q"})," \u9375\u5E8F\u5217\u5206\u96E2\u5BB9\u5668\uFF08\u4E0D\u505C\u6B62\uFF09"]}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"\u93E1\u50CF\u7BA1\u7406",children:"\u93E1\u50CF\u7BA1\u7406"}),"\n",(0,o.jsx)(n.h3,{id:"\u93E1\u50CF\u64CD\u4F5C",children:"\u93E1\u50CF\u64CD\u4F5C"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"# \u5217\u51FA\u672C\u5730\u93E1\u50CF\ndocker images\ndocker image ls\n\n# \u641C\u5C0B\u93E1\u50CF\ndocker search nginx\n\n# \u4E0B\u8F09\u93E1\u50CF\ndocker pull nginx:alpine\ndocker pull ubuntu:20.04\n\n# \u522A\u9664\u93E1\u50CF\ndocker rmi IMAGE_ID\ndocker rmi nginx:alpine\n\n# \u522A\u9664\u6240\u6709\u672A\u4F7F\u7528\u7684\u93E1\u50CF\ndocker image prune\ndocker image prune -a  # \u5305\u62EC\u6240\u6709\u672A\u4F7F\u7528\u7684\u93E1\u50CF\n"})}),"\n",(0,o.jsx)(n.h3,{id:"\u93E1\u50CF\u5EFA\u7F6E",children:"\u93E1\u50CF\u5EFA\u7F6E"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:'# \u5F9E Dockerfile \u5EFA\u7F6E\u93E1\u50CF\ndocker build -t myapp:latest .\ndocker build -t myapp:v1.0 -f Dockerfile.prod .\n\n# \u5F9E\u5BB9\u5668\u5EFA\u7ACB\u93E1\u50CF\ndocker commit [OPTIONS] CONTAINER [REPOSITORY[:TAG]]\ndocker commit -m "Added new feature" myapp myapp:v1.1\n\n# \u6A19\u8A18\u93E1\u50CF\ndocker tag SOURCE_IMAGE[:TAG] TARGET_IMAGE[:TAG]\ndocker tag myapp:latest myregistry.com/myapp:latest\n'})}),"\n",(0,o.jsx)(n.h3,{id:"\u93E1\u50CF\u50B3\u8F38",children:"\u93E1\u50CF\u50B3\u8F38"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"# \u4E0A\u50B3\u93E1\u50CF\ndocker push myregistry.com/myapp:latest\n\n# \u532F\u51FA\u93E1\u50CF\u70BA\u6A94\u6848\ndocker save -o myapp.tar myapp:latest\ndocker save myapp:latest | gzip > myapp.tar.gz\n\n# \u5F9E\u6A94\u6848\u8F09\u5165\u93E1\u50CF\ndocker load -i myapp.tar\ndocker load < myapp.tar.gz\n"})}),"\n",(0,o.jsx)(n.h2,{id:"\u7DB2\u8DEF\u8207\u5132\u5B58",children:"\u7DB2\u8DEF\u8207\u5132\u5B58"}),"\n",(0,o.jsx)(n.h3,{id:"\u7DB2\u8DEF\u914D\u7F6E",children:"\u7DB2\u8DEF\u914D\u7F6E"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"# \u57E0\u865F\u6620\u5C04\ndocker run -p 8080:80 nginx  # \u672C\u5730 8080 \u6620\u5C04\u5230\u5BB9\u5668 80\ndocker run -p 127.0.0.1:8080:80 nginx  # \u6307\u5B9A IP\n\n# \u7DB2\u8DEF\u6A21\u5F0F\ndocker run --network host nginx  # \u4F7F\u7528\u4E3B\u6A5F\u7DB2\u8DEF\ndocker run --network none nginx  # \u7121\u7DB2\u8DEF\u9023\u7DDA\n\n# \u81EA\u5B9A\u7FA9\u7DB2\u8DEF\ndocker network create mynetwork\ndocker run --network mynetwork nginx\n\n# \u7DB2\u8DEF\u7BA1\u7406\ndocker network ls\ndocker network inspect mynetwork\ndocker network rm mynetwork\n"})}),"\n",(0,o.jsx)(n.h3,{id:"\u5132\u5B58\u6620\u5C04",children:"\u5132\u5B58\u6620\u5C04"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"# \u76EE\u9304\u6620\u5C04\ndocker run -v /host/path:/container/path nginx\ndocker run -v $(pwd):/app node:alpine\n\n# \u547D\u540D\u5377\ndocker volume create myvolume\ndocker run -v myvolume:/data nginx\n\n# \u5377\u7BA1\u7406\ndocker volume ls\ndocker volume inspect myvolume\ndocker volume rm myvolume\ndocker volume prune  # \u6E05\u7406\u672A\u4F7F\u7528\u7684\u5377\n"})}),"\n",(0,o.jsx)(n.h2,{id:"\u5BE6\u7528\u6307\u4EE4\u7D44\u5408",children:"\u5BE6\u7528\u6307\u4EE4\u7D44\u5408"}),"\n",(0,o.jsx)(n.h3,{id:"\u958B\u767C\u74B0\u5883",children:"\u958B\u767C\u74B0\u5883"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"# Node.js \u958B\u767C\u74B0\u5883\ndocker run -it --rm \\\n  -v $(pwd):/app \\\n  -w /app \\\n  -p 3000:3000 \\\n  node:alpine sh\n\n# Python \u958B\u767C\u74B0\u5883\ndocker run -it --rm \\\n  -v $(pwd):/workspace \\\n  -w /workspace \\\n  python:3.9-slim bash\n\n# \u8CC7\u6599\u5EAB\u9023\u7DDA\ndocker run -it --rm \\\n  --network host \\\n  mysql:8.0 mysql -h localhost -u root -p\n"})}),"\n",(0,o.jsx)(n.h3,{id:"\u6E2C\u8A66\u8207\u9664\u932F",children:"\u6E2C\u8A66\u8207\u9664\u932F"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"# \u5FEB\u901F\u6E2C\u8A66\u5BB9\u5668\ndocker run --rm nginx:alpine nginx -t  # \u6E2C\u8A66\u914D\u7F6E\n\n# \u6AA2\u67E5\u5BB9\u5668\u5167\u90E8\u72C0\u614B\ndocker exec CONTAINER_ID ps aux\ndocker exec CONTAINER_ID netstat -tuln\ndocker exec CONTAINER_ID df -h\n\n# \u8907\u88FD\u6A94\u6848\ndocker cp CONTAINER_ID:/path/to/file ./local/path\ndocker cp ./local/file CONTAINER_ID:/path/to/destination\n"})}),"\n",(0,o.jsx)(n.h3,{id:"\u6E05\u7406\u8207\u7DAD\u8B77",children:"\u6E05\u7406\u8207\u7DAD\u8B77"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"# \u6E05\u7406\u505C\u6B62\u7684\u5BB9\u5668\ndocker container prune\n\n# \u6E05\u7406\u672A\u4F7F\u7528\u7684\u93E1\u50CF\ndocker image prune -a\n\n# \u6E05\u7406\u672A\u4F7F\u7528\u7684\u7DB2\u8DEF\ndocker network prune\n\n# \u6E05\u7406\u672A\u4F7F\u7528\u7684\u5377\ndocker volume prune\n\n# \u4E00\u9375\u6E05\u7406\u6240\u6709\u672A\u4F7F\u7528\u8CC7\u6E90\ndocker system prune -a --volumes\n\n# \u67E5\u770B\u7A7A\u9593\u4F7F\u7528\ndocker system df\n"})}),"\n",(0,o.jsx)(n.h2,{id:"see-also",children:"See Also"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.a,{className:"internal new",href:"/moco/machintosh/develop/mac-docker-cli/",children:"Mac Docker CLI"})," - macOS \u4E0A\u4F7F\u7528 Docker CLI"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.a,{className:"internal new",href:"/moco/utilities/cli/awesome-cli/",children:"Awesome CLI"})," - \u73FE\u4EE3\u5316 CLI \u5DE5\u5177\u96C6\u5408"]}),"\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.a,{href:"https://docs.docker.com/",children:"Docker \u5B98\u65B9\u6587\u6A94"})}),"\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.a,{href:"https://docs.docker.com/compose/reference/",children:"Docker Compose \u6307\u4EE4\u53C3\u8003"})}),"\n"]})]})}function p(e={}){let{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(t,{...e})}):t(e)}},84429:function(e,n,r){r.d(n,{R:()=>d,x:()=>l});var c=r(96540);let o={},s=c.createContext(o);function d(e){let n=c.useContext(s);return c.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:d(e.components),c.createElement(s.Provider,{value:n},e.children)}}}]);