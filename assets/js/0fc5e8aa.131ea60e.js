"use strict";(self.webpackChunkkywk_github_io=self.webpackChunkkywk_github_io||[]).push([[14496],{71195:(s,e,o)=>{o.r(e),o.d(e,{assets:()=>t,contentTitle:()=>i,default:()=>d,frontMatter:()=>a,metadata:()=>n,toc:()=>r});const n=JSON.parse('{"id":"machintosh/mac-note_install-shadowsocks","title":"Note: shadowsocks setup","description":"shadowsocks setup","source":"@site/moco/machintosh/mac-note_install-shadowsocks.md","sourceDirName":"machintosh","slug":"/machintosh/mac-note_install-shadowsocks","permalink":"/moco/machintosh/mac-note_install-shadowsocks","draft":false,"unlisted":false,"tags":[{"inline":true,"label":"Mac","permalink":"/moco/tags/mac"}],"version":"current","sidebarPosition":60,"frontMatter":{"title":"Note: shadowsocks setup","description":"shadowsocks setup","tags":["Mac"],"sidebar_position":60,"date_created":"2021-03-15T07:33:18.000Z","image":"https://lh3.googleusercontent.com/pw/ACtC-3d0i64fe-5XcNdEIkJXE_ucdKG_74gSGLz5YO2oik795zztBL7450Ff7dEQpMGRBXf7RKVteWTfqKM_efzjXja7JGyS3ZCUoPfkPJN61wfga53Tgo8mcFyWOFi_68TDQUZyNIvhEaUPyKPzgWAWHbwOHA=w1280-h720-no?authuser=0"},"sidebar":"tutorialSidebar","previous":{"title":"Note: iftop \u5b89\u88dd\u5931\u6557\u89e3\u6c7a","permalink":"/moco/machintosh/mac-note_install-iftop"},"next":{"title":"Note: \u88fd\u4f5c macOS \u5b89\u88dd ISO","permalink":"/moco/machintosh/mac-note_make-installer-iso"}}');var c=o(74848),l=o(28453);const a={title:"Note: shadowsocks setup",description:"shadowsocks setup",tags:["Mac"],sidebar_position:60,date_created:new Date("2021-03-15T07:33:18.000Z"),image:"https://lh3.googleusercontent.com/pw/ACtC-3d0i64fe-5XcNdEIkJXE_ucdKG_74gSGLz5YO2oik795zztBL7450Ff7dEQpMGRBXf7RKVteWTfqKM_efzjXja7JGyS3ZCUoPfkPJN61wfga53Tgo8mcFyWOFi_68TDQUZyNIvhEaUPyKPzgWAWHbwOHA=w1280-h720-no?authuser=0"},i="[Mac] shadowsocks setup",t={},r=[{value:"\u5b89\u88dd shadowsocks-libev",id:"\u5b89\u88dd-shadowsocks-libev",level:2},{value:"\u8a2d\u5b9a shadowsocks-libev",id:"\u8a2d\u5b9a-shadowsocks-libev",level:2},{value:"\u5168\u5340\u4ee3\u7406\u8a2d\u5b9a",id:"\u5168\u5340\u4ee3\u7406\u8a2d\u5b9a",level:2},{value:"\u5feb\u901f\u958b\u95dc\u4ee3\u7406",id:"\u5feb\u901f\u958b\u95dc\u4ee3\u7406",level:2},{value:"See Also",id:"see-also",level:2},{value:"Reference",id:"reference",level:3}];function h(s){const e={a:"a",br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",img:"img",li:"li",p:"p",pre:"pre",ul:"ul",...(0,l.R)(),...s.components};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(e.header,{children:(0,c.jsx)(e.h1,{id:"mac-shadowsocks-setup",children:"[Mac] shadowsocks setup"})}),"\n",(0,c.jsxs)(e.p,{children:["\u56e0\u5927\u9678\u6848\u5b50\u95dc\u4fc2, \u63a5\u89f8\u4e86\u4e9b\u5927\u9678\u7db2\u8def\u74b0\u5883, \u4e5f\u56e0\u6b64\u63a5\u89f8\u5230 shadowsocks.",(0,c.jsx)(e.br,{}),"\n",(0,c.jsx)(e.a,{href:"https://zh.wikipedia.org/wiki/Shadowsocks",children:"Shadowsocks\uff08\u7c21\u7a31SS\uff09"}),"\n\u662f\u4e00\u7a2e\u57fa\u65bcSocks5\u4ee3\u7406\u65b9\u5f0f\u7684\u52a0\u5bc6\u50b3\u8f38\u5354\u5b9a, \u4e5f\u53ef\u4ee5\u6307\u5be6\u73fe\u9019\u500b\u5354\u5b9a\u7684\u5404\u7a2e\u958b\u767c\u5305.\n\u5728\u4e2d\u570b\u5927\u9678, SS \u5ee3\u6cdb\u7528\u65bc\u7a81\u7834\u9632\u706b\u9577\u57ce\uff08GFW\uff09, \u4ee5\u700f\u89bd\u88ab\u5c01\u9396, \u906e\u853d\u6216\u5e72\u64fe\u7684\u5167\u5bb9."]}),"\n",(0,c.jsx)(e.p,{children:"Shadowsocks \u9700\u627e\u500b VPS \u8dd1 server, \u518d\u900f\u904e\u672c\u5730\u7aef client \u9023\u7dda.\nserver \u7aef\u7684\u8a2d\u5b9a\u9019\u7bc7\u4e0d\u8ac7, \u50c5\u7d00\u9304 macOS \u4e0a\u5b89\u88dd\u8207\u8a2d\u5b9a client \u7684\u904e\u7a0b."}),"\n",(0,c.jsx)(e.h2,{id:"\u5b89\u88dd-shadowsocks-libev",children:"\u5b89\u88dd shadowsocks-libev"}),"\n",(0,c.jsx)(e.p,{children:"Shadowsocks \u6709\u4e0d\u5c11 client \u53ef\u7528, \u6211\u9078\u7528 shadowsocks-libev.\n\u4ed6\u53ef\u4ee5\u7576\u7cfb\u7d71\u670d\u52d9, \u4e5f\u53ef\u4ee5\u900f\u904e\u4e0d\u5c11 plugin \u4f86\u64f4\u5145\u529f\u80fd, \u76f8\u7576\u5f37\u5927\u65b9\u4fbf."}),"\n",(0,c.jsx)(e.p,{children:"\u900f\u904e\u5957\u4ef6\u7ba1\u7406\u5de5\u5177 homebrew \u5373\u53ef\u5b89\u88dd shadowsocks-libev."}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-shell",children:"$ brew update\n$ brew install shadowsocks-libev\n...\nTo have launchd start shadowsocks-libev now and restart at login:\n  brew services start shadowsocks-libev\nOr, if you don't want/need a background service you can just run:\n  /usr/local/opt/shadowsocks-libev/bin/ss-local -c /usr/local/etc/shadowsocks-libev.json\n"})}),"\n",(0,c.jsx)(e.p,{children:"\u51fa\u73fe\u5f8c\u9762\u9019\u4e9b\u8a0a\u606f\u8868\u793a\u5b89\u88dd\u6210\u529f, \u5148\u900f\u904e CLI \u78ba\u8a8d SS \u9023\u7dda\u53ef\u4ee5\u6b63\u78ba work."}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-shell",children:"$ ss-local -s <SERVER_IP> -p <SERVER_PORT> -k <PASSWORD> -b 0.0.0.0 -l 1080-m aes-256-gcm\n\n\n 2021-03-15 17:28:36 INFO: initializing ciphers... aes-256-gcm\n 2021-03-15 17:28:36 INFO: listening at 0.0.0.0:1080\n"})}),"\n",(0,c.jsxs)(e.p,{children:["\u51fa\u73fe ",(0,c.jsx)(e.code,{children:"listening at 0.0.0.0:1080"})," \u8868\u793a SS \u9023\u7dda\u6210\u529f,\n\u53ef\u53c3\u8003\u5f8c\u9762\u6bb5\u843d\u8a2d\u7f6e Socks Proxy, \u9023\u7dda\u4e0a\u7db2\u78ba\u8a8d\u662f\u5426\u6b63\u78ba."]}),"\n",(0,c.jsx)(e.h2,{id:"\u8a2d\u5b9a-shadowsocks-libev",children:"\u8a2d\u5b9a shadowsocks-libev"}),"\n",(0,c.jsxs)(e.p,{children:["shadowsocks-libev \u53ef\u4ee5\u670d\u52d9\u65b9\u5f0f\u904b\u884c,\n\u914d\u7f6e\u6587\u4ef6\u5728 ",(0,c.jsx)(e.code,{children:"/usr/local/etc/shadowsocks-libev.json"})]}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-json",children:'{\n    "server":"abc.xyz.com",\n    "server_port":8888,\n    "local_port":1080,\n    "password":"AbCdEfGhIjKlMn",\n    "timeout":5,\n    "method":"chacha20-ietf-poly1305",\n    "mode":"tcp_and_udp",\n} \n'})}),"\n",(0,c.jsx)(e.p,{children:"\u4fee\u6539\u5f8c\u53ef\u900f\u904e brew services \u555f\u52d5\u670d\u52d9."}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-shell",children:"$ brew services start shadowsocks-libev \n==> Successfully started `shadowsocks-libev` (label: homebrew.mxcl.shadowsocks-libev)\n"})}),"\n",(0,c.jsx)(e.h2,{id:"\u5168\u5340\u4ee3\u7406\u8a2d\u5b9a",children:"\u5168\u5340\u4ee3\u7406\u8a2d\u5b9a"}),"\n",(0,c.jsxs)(e.p,{children:["macOS \u53ef\u900f\u904e\u5168\u5340\u4ee3\u7406\u7684\u65b9\u5f0f, \u8b93\u6240\u6709\u9023\u7dda\u90fd\u4f7f\u7528 SS \u7576\u8df3\u677f. \u8a2d\u5b9a\u65b9\u5f0f\u5728:\n",(0,c.jsx)(e.code,{children:"\u7cfb\u7d71\u504f\u597d\u8a2d\u5b9a > \u7db2\u8def > Wi-Fi > \u9032\u968e > \u4ee3\u7406"})]}),"\n",(0,c.jsx)(e.p,{children:(0,c.jsx)(e.img,{src:"https://lh3.googleusercontent.com/pw/ACtC-3du9pQkxgcpbedOxgve86--0UEyEQFCL63vTq-lq2xKJTunRbwdnK9KYniQK3fCcgXeYznijbOQjGTEowRbOwhgbYrILrh1NIsfm_6vskx_413Bt8-s8dVsoJP1LETT0NuInrjXbT_AiYnTEbe2IDEkuQ=w1336-h1154-no?authuser=0",alt:""})}),"\n",(0,c.jsx)(e.p,{children:(0,c.jsx)(e.img,{src:"https://lh3.googleusercontent.com/pw/ACtC-3fnJwLdyl7XqvApKymmHyElVZckPBgMyCaTeSEdmX-mCrTRh3XzRP8z0g9DUcbb0dOkMSTVIXNBqfJZcfwgwaNygIE0vAFjcIkj-Rq8tdVAKGmtodCz-Wc9vnjWPB0zEcaLcDm3UFMe4gpfpMKGEWTFig=w1336-h1154-no?authuser=0",alt:""})}),"\n",(0,c.jsx)(e.p,{children:"\u5728 SOCKS \u6b04\u4f4d\u586b\u4e0a\u672c\u5730\u7aef\u5c0d\u61c9\u7684\u8cc7\u8a0a\u5373\u53ef."}),"\n",(0,c.jsx)(e.h2,{id:"\u5feb\u901f\u958b\u95dc\u4ee3\u7406",children:"\u5feb\u901f\u958b\u95dc\u4ee3\u7406"}),"\n",(0,c.jsx)(e.p,{children:"\u4e00\u822c\u4f86\u8aaa\u4e0d\u6703\u8a2d\u5b9a\u70ba\u5168\u5340\u4ee3\u7406, \u6703\u900f\u904e PAC \u4f86\u8a2d\u5b9a\u767d\u540d\u55ae\u7b49\u81ea\u52d5\u4ee3\u7406.\n\u4f46\u6211\u500b\u4eba\u9700\u6c42\u6bd4\u8f03\u7c21\u55ae, \u9700\u8981\u8655\u7406\u516c\u52d9\u6642\u958b\u555f\u4ee3\u7406\u9023\u7dda\u7ba1\u7406\u5f8c\u53f0, \u8655\u7406\u5b8c\u7562\u5373\u53ef\u95dc\u9589\u4ee3\u7406."}),"\n",(0,c.jsx)(e.p,{children:"\u56e0\u6b64\u8a2d\u5b9a\u4e86\u7c21\u55ae\u7684 alias, \u900f\u904e CLI \u4f86\u5feb\u901f\u958b\u95dc\u4ee3\u7406."}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-bash",children:"alias proxyon='brew services restart shadowsocks-libev; networksetup -setsocksfirewallproxy wi-fi localhost 1080'\nalias proxyoff='brew services stop shadowsocks-libev; networksetup -setsocksfirewallproxystate wi-fi off'\n"})}),"\n",(0,c.jsxs)(e.p,{children:["\u4e4b\u5f8c\u9700\u8981\u9023\u7dda\u5f8c\u53f0\u6642, \u5728 Ternimal \u6253 ",(0,c.jsx)(e.code,{children:"poxyon"})," \u5373\u53ef\u900f\u904e\u4ee3\u7406\u9023\u7dda."]}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-shell",children:"$  proxyon\n\n==> Successfully started `shadowsocks-libev` (label: homebrew.mxcl.shadowsocks-libev)\n"})}),"\n",(0,c.jsxs)(e.p,{children:["\u8655\u7406\u5b8c\u7562\u5f8c, \u6253 ",(0,c.jsx)(e.code,{children:"proxyoff"})," \u95dc\u9589\u4ee3\u7406, \u56de\u5230\u539f\u751f\u7db2\u9b6f\u74b0\u5883."]}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-shell",children:"$ proxyoff\n\nStopping `shadowsocks-libev`... (might take a while)\n==> Successfully stopped `shadowsocks-libev` (label: homebrew.mxcl.shadowsocks-libev)\n"})}),"\n",(0,c.jsx)(e.h2,{id:"see-also",children:"See Also"}),"\n",(0,c.jsx)(e.h3,{id:"reference",children:"Reference"}),"\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsx)(e.li,{children:(0,c.jsx)(e.a,{href:"https://medium.com/@yanlong/macos%E4%BD%BF%E7%94%A8shadowsocks-libev-simple-obfs%E6%95%99%E7%A8%8B-c10eba9c0758",children:"MacOS\u4f7f\u7528shadowsocks-libev+Simple-OBFS\u6559\u7a0b - YAN LONG - Medium"})}),"\n",(0,c.jsx)(e.li,{children:(0,c.jsx)(e.a,{href:"https://marvinsblog.net/post/2017-01-15-use-shadowsocks-on-macos/",children:"ShadowSocks\u52a9\u529bmacOS\u79d1\u5b66\u4e0a\u7f51 | Marvin's Blog\u3010\u7a0b\u5f0f\u4eba\u751f\u3011"})}),"\n",(0,c.jsx)(e.li,{children:(0,c.jsx)(e.a,{href:"https://wild-flame.github.io/guides/docs/mac-os-x-setup-guide/shadowsocks",children:"Shadowsocks \xb7 Mac OS X \u914d\u7f6e\u6307\u5357"})}),"\n",(0,c.jsx)(e.li,{children:(0,c.jsx)(e.a,{href:"https://placeless.net/blog/shadowsocks-libev-&-acl-on-macos",children:"shadowsocks-libev & acl on macOS"})}),"\n",(0,c.jsx)(e.li,{children:(0,c.jsx)(e.a,{href:"https://www.wumingx.com/tools/shadowsocks_obfs.html",children:"'shadowsocks-libev+simple-obfs\u6d41\u91cf\u6df7\u6dc6\u7684\u4e24\u79cd\u65b9\u6848' | \u65e0\u540d\u8001\u5352BLOG"})}),"\n",(0,c.jsx)(e.li,{children:(0,c.jsx)(e.a,{href:"https://shadowsockshelp.github.io/Shadowsocks/mac.html",children:"\u82f9\u679c macOS \u4f7f\u7528 Shadowsocks \u8bbe\u7f6e\u6559\u7a0b | Shadowsocks"})}),"\n",(0,c.jsx)(e.li,{children:(0,c.jsx)(e.a,{href:"https://apple.stackexchange.com/questions/226544/how-to-set-proxy-on-os-x-terminal-permanently",children:"macos - How to set proxy on OS X Terminal permanently? - Ask Different"})}),"\n"]})]})}function d(s={}){const{wrapper:e}={...(0,l.R)(),...s.components};return e?(0,c.jsx)(e,{...s,children:(0,c.jsx)(h,{...s})}):h(s)}},28453:(s,e,o)=>{o.d(e,{R:()=>a,x:()=>i});var n=o(96540);const c={},l=n.createContext(c);function a(s){const e=n.useContext(l);return n.useMemo((function(){return"function"==typeof s?s(e):{...e,...s}}),[e,s])}function i(s){let e;return e=s.disableParentContext?"function"==typeof s.components?s.components(c):s.components||c:a(s.components),n.createElement(l.Provider,{value:e},s.children)}}}]);