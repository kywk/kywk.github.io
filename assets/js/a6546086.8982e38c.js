"use strict";(self.webpackChunkkywk_me=self.webpackChunkkywk_me||[]).push([["6486"],{27030:function(e,n,i){i.r(n),i.d(n,{frontMatter:()=>a,toc:()=>g,default:()=>d,metadata:()=>t,assets:()=>o,contentTitle:()=>r});var t=JSON.parse('{"id":"utilities/Git/Git Snippets","title":"Git: CLI Snippets","description":"Useful Git command line snippets and one-liners for daily development workflow","source":"@site/moco/utilities/Git/Git Snippets.md","sourceDirName":"utilities/Git","slug":"/utilities/git/git-snippets/","permalink":"/moco/utilities/git/git-snippets/","draft":false,"unlisted":false,"tags":[{"inline":true,"label":"Git","permalink":"/moco/tags/git"},{"inline":true,"label":"CLI","permalink":"/moco/tags/cli"},{"inline":true,"label":"Snippets","permalink":"/moco/tags/snippets"}],"version":"current","sidebarPosition":60,"frontMatter":{"title":"Git: CLI Snippets","description":"Useful Git command line snippets and one-liners for daily development workflow","tags":["Git","CLI","Snippets"],"sidebar_position":60,"hide_table_of_contents":true,"date_created":"2023-01-02T00:00:00.000Z","date_updated":"2024-01-01T00:00:00.000Z","image":"https://lh3.googleusercontent.com/pw/AL9nZEUA9Ifvd5Z8SXDWkeVB6AC4MPGwnXaL6kBXNPoXwOQQ2jOcZ1Jw_0p8TKK8C3ZX0e67_FOY15eDrm7aaXSQJcKtoUzC80SAQEHsaBy6qS2AqNNs5VUFNXBKm439y_1wkvmDl-PnL8ReojnIumNlEvOXBg=w800-no?authuser=0","slug":"/utilities/git/git-snippets/"},"sidebar":"tutorialSidebar","previous":{"title":"Git Delta","permalink":"/moco/utilities/git/git-delta/"},"next":{"title":"Git: Add Empty Folder","permalink":"/moco/utilities/git/git-add-empty-folder/"}}'),s=i(74848),l=i(84429);let a={title:"Git: CLI Snippets",description:"Useful Git command line snippets and one-liners for daily development workflow",tags:["Git","CLI","Snippets"],sidebar_position:60,hide_table_of_contents:!0,date_created:new Date("2023-01-02T00:00:00.000Z"),date_updated:new Date("2024-01-01T00:00:00.000Z"),image:"https://lh3.googleusercontent.com/pw/AL9nZEUA9Ifvd5Z8SXDWkeVB6AC4MPGwnXaL6kBXNPoXwOQQ2jOcZ1Jw_0p8TKK8C3ZX0e67_FOY15eDrm7aaXSQJcKtoUzC80SAQEHsaBy6qS2AqNNs5VUFNXBKm439y_1wkvmDl-PnL8ReojnIumNlEvOXBg=w800-no?authuser=0",slug:"/utilities/git/git-snippets/"},r="Git: CLI Snippets",o={},g=[{value:"\u{1F3F7}\uFE0F Tag \u7BA1\u7406",id:"\uFE0F-tag-\u7BA1\u7406",level:2},{value:"\u6E05\u7406\u6240\u6709 Tags",id:"\u6E05\u7406\u6240\u6709-tags",level:3},{value:"Tag \u64CD\u4F5C",id:"tag-\u64CD\u4F5C",level:3},{value:"\u{1F331} Branch \u7BA1\u7406",id:"-branch-\u7BA1\u7406",level:2},{value:"\u6E05\u7406\u5206\u652F",id:"\u6E05\u7406\u5206\u652F",level:3},{value:"\u5206\u652F\u64CD\u4F5C",id:"\u5206\u652F\u64CD\u4F5C",level:3},{value:"\u{1F4DD} Commit \u7BA1\u7406",id:"-commit-\u7BA1\u7406",level:2},{value:"Commit \u4FEE\u6539",id:"commit-\u4FEE\u6539",level:3},{value:"Commit \u67E5\u8A62",id:"commit-\u67E5\u8A62",level:3},{value:"\u{1F504} Stash \u7BA1\u7406",id:"-stash-\u7BA1\u7406",level:2},{value:"\u{1F50D} \u641C\u5C0B\u8207\u67E5\u627E",id:"-\u641C\u5C0B\u8207\u67E5\u627E",level:2},{value:"\u6A94\u6848\u641C\u5C0B",id:"\u6A94\u6848\u641C\u5C0B",level:3},{value:"Blame \u8207\u8FFD\u8E64",id:"blame-\u8207\u8FFD\u8E64",level:3},{value:"\u{1F527} \u5BE6\u7528\u5DE5\u5177",id:"-\u5BE6\u7528\u5DE5\u5177",level:2},{value:"\u6A94\u6848\u64CD\u4F5C",id:"\u6A94\u6848\u64CD\u4F5C",level:3},{value:"\u914D\u7F6E\u7BA1\u7406",id:"\u914D\u7F6E\u7BA1\u7406",level:3},{value:"\u{1F504} Remote \u7BA1\u7406",id:"-remote-\u7BA1\u7406",level:2},{value:"\u{1F4CA} \u7D71\u8A08\u8207\u5206\u6790",id:"-\u7D71\u8A08\u8207\u5206\u6790",level:2},{value:"\u26A0\uFE0F \u7DCA\u6025\u60C5\u6CC1",id:"\uFE0F-\u7DCA\u6025\u60C5\u6CC1",level:2},{value:"\u6062\u5FA9\u64CD\u4F5C",id:"\u6062\u5FA9\u64CD\u4F5C",level:3},{value:"\u7DCA\u6025\u4FEE\u5FA9",id:"\u7DCA\u6025\u4FEE\u5FA9",level:3},{value:"\u{1F4DD} \u6700\u4F73\u5BE6\u8E10",id:"-\u6700\u4F73\u5BE6\u8E10",level:2}];function c(e){let n={blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",...(0,l.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"git-cli-snippets",children:"Git: CLI Snippets"})}),"\n",(0,s.jsx)(n.p,{children:"\u5E38\u7528\u7684 Git \u547D\u4EE4\u5217\u7247\u6BB5\u548C\u4E00\u884C\u5F0F\u547D\u4EE4\uFF0C\u63D0\u9AD8\u65E5\u5E38\u958B\u767C\u6548\u7387\u3002"}),"\n",(0,s.jsx)(n.h2,{id:"\uFE0F-tag-\u7BA1\u7406",children:"\u{1F3F7}\uFE0F Tag \u7BA1\u7406"}),"\n",(0,s.jsx)(n.h3,{id:"\u6E05\u7406\u6240\u6709-tags",children:"\u6E05\u7406\u6240\u6709 Tags"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# \u522A\u9664\u6240\u6709\u672C\u5730 tags\uFF08\u5EFA\u8B70\u5148\u57F7\u884C\uFF09\ngit tag -d $(git tag -l)\n\n# \u91CD\u65B0\u53D6\u5F97\u6240\u6709\u9060\u7AEF tags\uFF08\u5EFA\u8B70\u5148\u57F7\u884C\uFF09\ngit fetch --tags\n\n# \u522A\u9664\u6240\u6709\u9060\u7AEF tags\uFF08\u6CE8\u610F\uFF1A\u4E00\u6B21\u63A8\u9001\u6BD4\u591A\u6B21\u63A8\u9001\u5FEB\uFF09\ngit push origin --delete $(git tag -l)\n\n# \u518D\u6B21\u522A\u9664\u6240\u6709\u672C\u5730 tags\ngit tag -d $(git tag -l)\n"})}),"\n",(0,s.jsx)(n.h3,{id:"tag-\u64CD\u4F5C",children:"Tag \u64CD\u4F5C"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'# \u5217\u51FA\u6240\u6709 tags\ngit tag -l\n\n# \u5EFA\u7ACB\u65B0 tag\ngit tag -a v1.0.0 -m "Release version 1.0.0"\n\n# \u63A8\u9001\u7279\u5B9A tag \u5230\u9060\u7AEF\ngit push origin v1.0.0\n\n# \u63A8\u9001\u6240\u6709 tags \u5230\u9060\u7AEF\ngit push origin --tags\n\n# \u522A\u9664\u672C\u5730 tag\ngit tag -d v1.0.0\n\n# \u522A\u9664\u9060\u7AEF tag\ngit push origin --delete v1.0.0\n'})}),"\n",(0,s.jsx)(n.h2,{id:"-branch-\u7BA1\u7406",children:"\u{1F331} Branch \u7BA1\u7406"}),"\n",(0,s.jsx)(n.h3,{id:"\u6E05\u7406\u5206\u652F",children:"\u6E05\u7406\u5206\u652F"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'# \u522A\u9664\u5DF2\u5408\u4F75\u7684\u672C\u5730\u5206\u652F\ngit branch --merged | grep -v "\\*\\|main\\|master\\|develop" | xargs -n 1 git branch -d\n\n# \u522A\u9664\u9060\u7AEF\u5DF2\u522A\u9664\u7684\u672C\u5730\u8FFD\u8E64\u5206\u652F\ngit remote prune origin\n\n# \u5217\u51FA\u6240\u6709\u9060\u7AEF\u5206\u652F\ngit branch -r\n\n# \u5217\u51FA\u6240\u6709\u672C\u5730\u5206\u652F\ngit branch -a\n'})}),"\n",(0,s.jsx)(n.h3,{id:"\u5206\u652F\u64CD\u4F5C",children:"\u5206\u652F\u64CD\u4F5C"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# \u5EFA\u7ACB\u4E26\u5207\u63DB\u5230\u65B0\u5206\u652F\ngit checkout -b feature/new-feature\n\n# \u91CD\u65B0\u547D\u540D\u5206\u652F\ngit branch -m old-name new-name\n\n# \u5F37\u5236\u522A\u9664\u5206\u652F\ngit branch -D feature/unwanted\n\n# \u8A2D\u5B9A\u4E0A\u6E38\u5206\u652F\ngit branch --set-upstream-to=origin/main main\n"})}),"\n",(0,s.jsx)(n.h2,{id:"-commit-\u7BA1\u7406",children:"\u{1F4DD} Commit \u7BA1\u7406"}),"\n",(0,s.jsx)(n.h3,{id:"commit-\u4FEE\u6539",children:"Commit \u4FEE\u6539"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'# \u4FEE\u6539\u6700\u5F8C\u4E00\u6B21 commit \u8A0A\u606F\ngit commit --amend -m "New commit message"\n\n# \u4FEE\u6539\u6700\u5F8C\u4E00\u6B21 commit\uFF08\u4E0D\u6539\u8A0A\u606F\uFF09\ngit commit --amend --no-edit\n\n# \u91CD\u8A2D\u5230\u7279\u5B9A commit\ngit reset --hard <commit-hash>\n\n# \u8EDF\u91CD\u8A2D\uFF08\u4FDD\u7559\u8B8A\u66F4\uFF09\ngit reset --soft HEAD~1\n'})}),"\n",(0,s.jsx)(n.h3,{id:"commit-\u67E5\u8A62",children:"Commit \u67E5\u8A62"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'# \u67E5\u770B commit \u6B77\u53F2\uFF08\u4E00\u884C\u986F\u793A\uFF09\ngit log --oneline\n\n# \u67E5\u770B\u6A94\u6848\u8B8A\u66F4\u6B77\u53F2\ngit log --follow -- <filename>\n\n# \u67E5\u770B\u7279\u5B9A\u4F5C\u8005\u7684 commits\ngit log --author="Author Name"\n\n# \u67E5\u770B\u7279\u5B9A\u6642\u9593\u7BC4\u570D\u7684 commits\ngit log --since="2023-01-01" --until="2023-12-31"\n'})}),"\n",(0,s.jsx)(n.h2,{id:"-stash-\u7BA1\u7406",children:"\u{1F504} Stash \u7BA1\u7406"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'# \u5132\u5B58\u7576\u524D\u8B8A\u66F4\ngit stash\n\n# \u5132\u5B58\u4E26\u6DFB\u52A0\u8A0A\u606F\ngit stash save "Work in progress on feature X"\n\n# \u5217\u51FA\u6240\u6709 stash\ngit stash list\n\n# \u5957\u7528\u6700\u65B0\u7684 stash\ngit stash pop\n\n# \u5957\u7528\u7279\u5B9A stash\ngit stash apply stash@{0}\n\n# \u522A\u9664\u7279\u5B9A stash\ngit stash drop stash@{0}\n\n# \u6E05\u7A7A\u6240\u6709 stash\ngit stash clear\n'})}),"\n",(0,s.jsx)(n.h2,{id:"-\u641C\u5C0B\u8207\u67E5\u627E",children:"\u{1F50D} \u641C\u5C0B\u8207\u67E5\u627E"}),"\n",(0,s.jsx)(n.h3,{id:"\u6A94\u6848\u641C\u5C0B",children:"\u6A94\u6848\u641C\u5C0B"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'# \u5728 Git \u6B77\u53F2\u4E2D\u641C\u5C0B\u6587\u5B57\ngit log -S "search term" --oneline\n\n# \u5728\u7576\u524D\u5DE5\u4F5C\u76EE\u9304\u641C\u5C0B\ngit grep "search term"\n\n# \u641C\u5C0B\u6A94\u6848\u540D\ngit ls-files | grep "filename"\n\n# \u67E5\u627E\u522A\u9664\u7684\u6A94\u6848\ngit log --diff-filter=D --summary | grep delete\n'})}),"\n",(0,s.jsx)(n.h3,{id:"blame-\u8207\u8FFD\u8E64",children:"Blame \u8207\u8FFD\u8E64"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# \u67E5\u770B\u6A94\u6848\u6BCF\u884C\u7684\u4FEE\u6539\u8005\ngit blame <filename>\n\n# \u67E5\u770B\u7279\u5B9A\u884C\u6578\u7BC4\u570D\ngit blame -L 10,20 <filename>\n\n# \u5FFD\u7565\u7A7A\u767D\u5B57\u5143\u8B8A\u66F4\ngit blame -w <filename>\n"})}),"\n",(0,s.jsx)(n.h2,{id:"-\u5BE6\u7528\u5DE5\u5177",children:"\u{1F527} \u5BE6\u7528\u5DE5\u5177"}),"\n",(0,s.jsx)(n.h3,{id:"\u6A94\u6848\u64CD\u4F5C",children:"\u6A94\u6848\u64CD\u4F5C"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# \u53D6\u6D88\u8FFD\u8E64\u6A94\u6848\uFF08\u4F46\u4FDD\u7559\u672C\u5730\u6A94\u6848\uFF09\ngit rm --cached <filename>\n\n# \u91CD\u65B0\u547D\u540D\u6A94\u6848\ngit mv old-filename new-filename\n\n# \u6062\u5FA9\u522A\u9664\u7684\u6A94\u6848\ngit checkout HEAD -- <filename>\n\n# \u67E5\u770B\u6A94\u6848\u72C0\u614B\ngit status --porcelain\n"})}),"\n",(0,s.jsx)(n.h3,{id:"\u914D\u7F6E\u7BA1\u7406",children:"\u914D\u7F6E\u7BA1\u7406"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'# \u67E5\u770B\u6240\u6709\u914D\u7F6E\ngit config --list\n\n# \u8A2D\u5B9A\u5168\u57DF\u4F7F\u7528\u8005\u8CC7\u8A0A\ngit config --global user.name "Your Name"\ngit config --global user.email "your.email@example.com"\n\n# \u8A2D\u5B9A\u7DE8\u8F2F\u5668\ngit config --global core.editor "code --wait"\n\n# \u8A2D\u5B9A\u5225\u540D\ngit config --global alias.st status\ngit config --global alias.co checkout\ngit config --global alias.br branch\n'})}),"\n",(0,s.jsx)(n.h2,{id:"-remote-\u7BA1\u7406",children:"\u{1F504} Remote \u7BA1\u7406"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# \u67E5\u770B\u9060\u7AEF\u5009\u5EAB\ngit remote -v\n\n# \u6DFB\u52A0\u9060\u7AEF\u5009\u5EAB\ngit remote add upstream https://github.com/original/repo.git\n\n# \u66F4\u6539\u9060\u7AEF URL\ngit remote set-url origin https://github.com/user/repo.git\n\n# \u540C\u6B65\u4E0A\u6E38\u5009\u5EAB\ngit fetch upstream\ngit merge upstream/main\n\n# \u5F37\u5236\u63A8\u9001\uFF08\u8B39\u614E\u4F7F\u7528\uFF09\ngit push --force-with-lease\n"})}),"\n",(0,s.jsx)(n.h2,{id:"-\u7D71\u8A08\u8207\u5206\u6790",children:"\u{1F4CA} \u7D71\u8A08\u8207\u5206\u6790"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# \u67E5\u770B\u8CA2\u737B\u7D71\u8A08\ngit shortlog -sn\n\n# \u67E5\u770B\u6A94\u6848\u8B8A\u66F4\u7D71\u8A08\ngit log --stat\n\n# \u67E5\u770B\u4EE3\u78BC\u884C\u6578\u7D71\u8A08\ngit log --pretty=tformat: --numstat | awk '{ add += $1; subs += $2; loc += $1 - $2 } END { printf \"added lines: %s, removed lines: %s, total lines: %s\\n\", add, subs, loc }'\n\n# \u67E5\u770B\u6700\u6D3B\u8E8D\u7684\u6A94\u6848\ngit log --pretty=format: --name-only | sort | uniq -c | sort -rg | head -10\n"})}),"\n",(0,s.jsx)(n.h2,{id:"\uFE0F-\u7DCA\u6025\u60C5\u6CC1",children:"\u26A0\uFE0F \u7DCA\u6025\u60C5\u6CC1"}),"\n",(0,s.jsx)(n.h3,{id:"\u6062\u5FA9\u64CD\u4F5C",children:"\u6062\u5FA9\u64CD\u4F5C"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# \u6062\u5FA9\u5230\u4E0A\u4E00\u6B21 commit\ngit reset --hard HEAD~1\n\n# \u6062\u5FA9\u7279\u5B9A\u6A94\u6848\ngit checkout HEAD -- <filename>\n\n# \u64A4\u92B7 merge\ngit merge --abort\n\n# \u64A4\u92B7 rebase\ngit rebase --abort\n\n# \u6E05\u7406\u672A\u8FFD\u8E64\u7684\u6A94\u6848\ngit clean -fd\n"})}),"\n",(0,s.jsx)(n.h3,{id:"\u7DCA\u6025\u4FEE\u5FA9",children:"\u7DCA\u6025\u4FEE\u5FA9"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# \u5F37\u5236\u540C\u6B65\u672C\u5730\u8207\u9060\u7AEF\ngit fetch origin\ngit reset --hard origin/main\n\n# \u6062\u5FA9\u610F\u5916\u522A\u9664\u7684 commit\ngit reflog\ngit reset --hard <commit-hash>\n\n# \u4FEE\u5FA9\u640D\u58DE\u7684\u5009\u5EAB\ngit fsck --full\ngit gc --prune=now\n"})}),"\n",(0,s.jsx)(n.h2,{id:"-\u6700\u4F73\u5BE6\u8E10",children:"\u{1F4DD} \u6700\u4F73\u5BE6\u8E10"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"\u5B9A\u671F\u6E05\u7406"}),"\uFF1A\u5B9A\u671F\u522A\u9664\u5DF2\u5408\u4F75\u7684\u5206\u652F\u548C\u7121\u7528\u7684 tags"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"\u4F7F\u7528\u5225\u540D"}),"\uFF1A\u70BA\u5E38\u7528\u547D\u4EE4\u8A2D\u5B9A\u7C21\u77ED\u7684\u5225\u540D"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"\u5099\u4EFD\u91CD\u8981\u64CD\u4F5C"}),"\uFF1A\u5728\u57F7\u884C\u7834\u58DE\u6027\u64CD\u4F5C\u524D\u5148\u5099\u4EFD"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"\u4F7F\u7528 --dry-run"}),"\uFF1A\u5728\u4E0D\u78BA\u5B9A\u7684\u60C5\u6CC1\u4E0B\u5148\u6E2C\u8A66\u547D\u4EE4"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"\u95B1\u8B80\u8F38\u51FA"}),"\uFF1A\u4ED4\u7D30\u95B1\u8B80\u547D\u4EE4\u8F38\u51FA\uFF0C\u7406\u89E3\u64CD\u4F5C\u7D50\u679C"]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsxs)(n.p,{children:["\u{1F4A1} ",(0,s.jsx)(n.strong,{children:"\u63D0\u793A"}),"\uFF1A\u9019\u4E9B\u547D\u4EE4\u7247\u6BB5\u53EF\u4EE5\u7D44\u5408\u4F7F\u7528\uFF0C\u4F46\u8ACB\u5728\u751F\u7522\u74B0\u5883\u4E2D\u8B39\u614E\u4F7F\u7528\u7834\u58DE\u6027\u64CD\u4F5C\u3002"]}),"\n"]})]})}function d(e={}){let{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},84429:function(e,n,i){i.d(n,{R:()=>a,x:()=>r});var t=i(96540);let s={},l=t.createContext(s);function a(e){let n=t.useContext(l);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),t.createElement(l.Provider,{value:n},e.children)}}}]);