"use strict";(self.webpackChunkkywk_github_io=self.webpackChunkkywk_github_io||[]).push([["34491"],{13785:function(s,e,o){o.r(e),o.d(e,{metadata:()=>n,contentTitle:()=>i,default:()=>d,assets:()=>t,toc:()=>r,frontMatter:()=>a});var n=JSON.parse('{"id":"machintosh/mac-note_install-shadowsocks","title":"Note: shadowsocks setup","description":"shadowsocks setup","source":"@site/moco/machintosh/mac-note_install-shadowsocks.md","sourceDirName":"machintosh","slug":"/machintosh/mac-note_install-shadowsocks","permalink":"/moco/machintosh/mac-note_install-shadowsocks","draft":false,"unlisted":false,"tags":[{"inline":true,"label":"Mac","permalink":"/moco/tags/mac"}],"version":"current","sidebarPosition":60,"frontMatter":{"title":"Note: shadowsocks setup","description":"shadowsocks setup","tags":["Mac"],"sidebar_position":60,"date_created":"2021-03-15T07:33:18.000Z","image":"https://lh3.googleusercontent.com/pw/ACtC-3d0i64fe-5XcNdEIkJXE_ucdKG_74gSGLz5YO2oik795zztBL7450Ff7dEQpMGRBXf7RKVteWTfqKM_efzjXja7JGyS3ZCUoPfkPJN61wfga53Tgo8mcFyWOFi_68TDQUZyNIvhEaUPyKPzgWAWHbwOHA=w1280-h720-no?authuser=0"},"sidebar":"tutorialSidebar","previous":{"title":"Note: iftop \u5B89\u88DD\u5931\u6557\u89E3\u6C7A","permalink":"/moco/machintosh/mac-note_install-iftop"},"next":{"title":"Note: \u88FD\u4F5C macOS \u5B89\u88DD ISO","permalink":"/moco/machintosh/mac-note_make-installer-iso"}}'),c=o("85893"),l=o("50065");let a={title:"Note: shadowsocks setup",description:"shadowsocks setup",tags:["Mac"],sidebar_position:60,date_created:new Date("2021-03-15T07:33:18.000Z"),image:"https://lh3.googleusercontent.com/pw/ACtC-3d0i64fe-5XcNdEIkJXE_ucdKG_74gSGLz5YO2oik795zztBL7450Ff7dEQpMGRBXf7RKVteWTfqKM_efzjXja7JGyS3ZCUoPfkPJN61wfga53Tgo8mcFyWOFi_68TDQUZyNIvhEaUPyKPzgWAWHbwOHA=w1280-h720-no?authuser=0"},i="[Mac] shadowsocks setup",t={},r=[{value:"\u5B89\u88DD shadowsocks-libev",id:"\u5B89\u88DD-shadowsocks-libev",level:2},{value:"\u8A2D\u5B9A shadowsocks-libev",id:"\u8A2D\u5B9A-shadowsocks-libev",level:2},{value:"\u5168\u5340\u4EE3\u7406\u8A2D\u5B9A",id:"\u5168\u5340\u4EE3\u7406\u8A2D\u5B9A",level:2},{value:"\u5FEB\u901F\u958B\u95DC\u4EE3\u7406",id:"\u5FEB\u901F\u958B\u95DC\u4EE3\u7406",level:2},{value:"See Also",id:"see-also",level:2},{value:"Reference",id:"reference",level:3}];function h(s){let e={a:"a",br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",img:"img",li:"li",p:"p",pre:"pre",ul:"ul",...(0,l.a)(),...s.components};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(e.header,{children:(0,c.jsx)(e.h1,{id:"mac-shadowsocks-setup",children:"[Mac] shadowsocks setup"})}),"\n",(0,c.jsxs)(e.p,{children:["\u56E0\u5927\u9678\u6848\u5B50\u95DC\u4FC2, \u63A5\u89F8\u4E86\u4E9B\u5927\u9678\u7DB2\u8DEF\u74B0\u5883, \u4E5F\u56E0\u6B64\u63A5\u89F8\u5230 shadowsocks.",(0,c.jsx)(e.br,{}),"\n",(0,c.jsx)(e.a,{href:"https://zh.wikipedia.org/wiki/Shadowsocks",children:"Shadowsocks\uFF08\u7C21\u7A31SS\uFF09"}),"\n\u662F\u4E00\u7A2E\u57FA\u65BCSocks5\u4EE3\u7406\u65B9\u5F0F\u7684\u52A0\u5BC6\u50B3\u8F38\u5354\u5B9A, \u4E5F\u53EF\u4EE5\u6307\u5BE6\u73FE\u9019\u500B\u5354\u5B9A\u7684\u5404\u7A2E\u958B\u767C\u5305.\n\u5728\u4E2D\u570B\u5927\u9678, SS \u5EE3\u6CDB\u7528\u65BC\u7A81\u7834\u9632\u706B\u9577\u57CE\uFF08GFW\uFF09, \u4EE5\u700F\u89BD\u88AB\u5C01\u9396, \u906E\u853D\u6216\u5E72\u64FE\u7684\u5167\u5BB9."]}),"\n",(0,c.jsx)(e.p,{children:"Shadowsocks \u9700\u627E\u500B VPS \u8DD1 server, \u518D\u900F\u904E\u672C\u5730\u7AEF client \u9023\u7DDA.\nserver \u7AEF\u7684\u8A2D\u5B9A\u9019\u7BC7\u4E0D\u8AC7, \u50C5\u7D00\u9304 macOS \u4E0A\u5B89\u88DD\u8207\u8A2D\u5B9A client \u7684\u904E\u7A0B."}),"\n",(0,c.jsx)(e.h2,{id:"\u5B89\u88DD-shadowsocks-libev",children:"\u5B89\u88DD shadowsocks-libev"}),"\n",(0,c.jsx)(e.p,{children:"Shadowsocks \u6709\u4E0D\u5C11 client \u53EF\u7528, \u6211\u9078\u7528 shadowsocks-libev.\n\u4ED6\u53EF\u4EE5\u7576\u7CFB\u7D71\u670D\u52D9, \u4E5F\u53EF\u4EE5\u900F\u904E\u4E0D\u5C11 plugin \u4F86\u64F4\u5145\u529F\u80FD, \u76F8\u7576\u5F37\u5927\u65B9\u4FBF."}),"\n",(0,c.jsx)(e.p,{children:"\u900F\u904E\u5957\u4EF6\u7BA1\u7406\u5DE5\u5177 homebrew \u5373\u53EF\u5B89\u88DD shadowsocks-libev."}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-shell",children:"$ brew update\n$ brew install shadowsocks-libev\n...\nTo have launchd start shadowsocks-libev now and restart at login:\n  brew services start shadowsocks-libev\nOr, if you don't want/need a background service you can just run:\n  /usr/local/opt/shadowsocks-libev/bin/ss-local -c /usr/local/etc/shadowsocks-libev.json\n"})}),"\n",(0,c.jsx)(e.p,{children:"\u51FA\u73FE\u5F8C\u9762\u9019\u4E9B\u8A0A\u606F\u8868\u793A\u5B89\u88DD\u6210\u529F, \u5148\u900F\u904E CLI \u78BA\u8A8D SS \u9023\u7DDA\u53EF\u4EE5\u6B63\u78BA work."}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-shell",children:"$ ss-local -s <SERVER_IP> -p <SERVER_PORT> -k <PASSWORD> -b 0.0.0.0 -l 1080-m aes-256-gcm\n\n\n 2021-03-15 17:28:36 INFO: initializing ciphers... aes-256-gcm\n 2021-03-15 17:28:36 INFO: listening at 0.0.0.0:1080\n"})}),"\n",(0,c.jsxs)(e.p,{children:["\u51FA\u73FE ",(0,c.jsx)(e.code,{children:"listening at 0.0.0.0:1080"})," \u8868\u793A SS \u9023\u7DDA\u6210\u529F,\n\u53EF\u53C3\u8003\u5F8C\u9762\u6BB5\u843D\u8A2D\u7F6E Socks Proxy, \u9023\u7DDA\u4E0A\u7DB2\u78BA\u8A8D\u662F\u5426\u6B63\u78BA."]}),"\n",(0,c.jsx)(e.h2,{id:"\u8A2D\u5B9A-shadowsocks-libev",children:"\u8A2D\u5B9A shadowsocks-libev"}),"\n",(0,c.jsxs)(e.p,{children:["shadowsocks-libev \u53EF\u4EE5\u670D\u52D9\u65B9\u5F0F\u904B\u884C,\n\u914D\u7F6E\u6587\u4EF6\u5728 ",(0,c.jsx)(e.code,{children:"/usr/local/etc/shadowsocks-libev.json"})]}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-json",children:'{\n    "server":"abc.xyz.com",\n    "server_port":8888,\n    "local_port":1080,\n    "password":"AbCdEfGhIjKlMn",\n    "timeout":5,\n    "method":"chacha20-ietf-poly1305",\n    "mode":"tcp_and_udp",\n} \n'})}),"\n",(0,c.jsx)(e.p,{children:"\u4FEE\u6539\u5F8C\u53EF\u900F\u904E brew services \u555F\u52D5\u670D\u52D9."}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-shell",children:"$ brew services start shadowsocks-libev \n==> Successfully started `shadowsocks-libev` (label: homebrew.mxcl.shadowsocks-libev)\n"})}),"\n",(0,c.jsx)(e.h2,{id:"\u5168\u5340\u4EE3\u7406\u8A2D\u5B9A",children:"\u5168\u5340\u4EE3\u7406\u8A2D\u5B9A"}),"\n",(0,c.jsxs)(e.p,{children:["macOS \u53EF\u900F\u904E\u5168\u5340\u4EE3\u7406\u7684\u65B9\u5F0F, \u8B93\u6240\u6709\u9023\u7DDA\u90FD\u4F7F\u7528 SS \u7576\u8DF3\u677F. \u8A2D\u5B9A\u65B9\u5F0F\u5728:\n",(0,c.jsx)(e.code,{children:"\u7CFB\u7D71\u504F\u597D\u8A2D\u5B9A > \u7DB2\u8DEF > Wi-Fi > \u9032\u968E > \u4EE3\u7406"})]}),"\n",(0,c.jsx)(e.p,{children:(0,c.jsx)(e.img,{src:"https://lh3.googleusercontent.com/pw/ACtC-3du9pQkxgcpbedOxgve86--0UEyEQFCL63vTq-lq2xKJTunRbwdnK9KYniQK3fCcgXeYznijbOQjGTEowRbOwhgbYrILrh1NIsfm_6vskx_413Bt8-s8dVsoJP1LETT0NuInrjXbT_AiYnTEbe2IDEkuQ=w1336-h1154-no?authuser=0",alt:""})}),"\n",(0,c.jsx)(e.p,{children:(0,c.jsx)(e.img,{src:"https://lh3.googleusercontent.com/pw/ACtC-3fnJwLdyl7XqvApKymmHyElVZckPBgMyCaTeSEdmX-mCrTRh3XzRP8z0g9DUcbb0dOkMSTVIXNBqfJZcfwgwaNygIE0vAFjcIkj-Rq8tdVAKGmtodCz-Wc9vnjWPB0zEcaLcDm3UFMe4gpfpMKGEWTFig=w1336-h1154-no?authuser=0",alt:""})}),"\n",(0,c.jsx)(e.p,{children:"\u5728 SOCKS \u6B04\u4F4D\u586B\u4E0A\u672C\u5730\u7AEF\u5C0D\u61C9\u7684\u8CC7\u8A0A\u5373\u53EF."}),"\n",(0,c.jsx)(e.h2,{id:"\u5FEB\u901F\u958B\u95DC\u4EE3\u7406",children:"\u5FEB\u901F\u958B\u95DC\u4EE3\u7406"}),"\n",(0,c.jsx)(e.p,{children:"\u4E00\u822C\u4F86\u8AAA\u4E0D\u6703\u8A2D\u5B9A\u70BA\u5168\u5340\u4EE3\u7406, \u6703\u900F\u904E PAC \u4F86\u8A2D\u5B9A\u767D\u540D\u55AE\u7B49\u81EA\u52D5\u4EE3\u7406.\n\u4F46\u6211\u500B\u4EBA\u9700\u6C42\u6BD4\u8F03\u7C21\u55AE, \u9700\u8981\u8655\u7406\u516C\u52D9\u6642\u958B\u555F\u4EE3\u7406\u9023\u7DDA\u7BA1\u7406\u5F8C\u53F0, \u8655\u7406\u5B8C\u7562\u5373\u53EF\u95DC\u9589\u4EE3\u7406."}),"\n",(0,c.jsx)(e.p,{children:"\u56E0\u6B64\u8A2D\u5B9A\u4E86\u7C21\u55AE\u7684 alias, \u900F\u904E CLI \u4F86\u5FEB\u901F\u958B\u95DC\u4EE3\u7406."}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-bash",children:"alias proxyon='brew services restart shadowsocks-libev; networksetup -setsocksfirewallproxy wi-fi localhost 1080'\nalias proxyoff='brew services stop shadowsocks-libev; networksetup -setsocksfirewallproxystate wi-fi off'\n"})}),"\n",(0,c.jsxs)(e.p,{children:["\u4E4B\u5F8C\u9700\u8981\u9023\u7DDA\u5F8C\u53F0\u6642, \u5728 Ternimal \u6253 ",(0,c.jsx)(e.code,{children:"poxyon"})," \u5373\u53EF\u900F\u904E\u4EE3\u7406\u9023\u7DDA."]}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-shell",children:"$  proxyon\n\n==> Successfully started `shadowsocks-libev` (label: homebrew.mxcl.shadowsocks-libev)\n"})}),"\n",(0,c.jsxs)(e.p,{children:["\u8655\u7406\u5B8C\u7562\u5F8C, \u6253 ",(0,c.jsx)(e.code,{children:"proxyoff"})," \u95DC\u9589\u4EE3\u7406, \u56DE\u5230\u539F\u751F\u7DB2\u9B6F\u74B0\u5883."]}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-shell",children:"$ proxyoff\n\nStopping `shadowsocks-libev`... (might take a while)\n==> Successfully stopped `shadowsocks-libev` (label: homebrew.mxcl.shadowsocks-libev)\n"})}),"\n",(0,c.jsx)(e.h2,{id:"see-also",children:"See Also"}),"\n",(0,c.jsx)(e.h3,{id:"reference",children:"Reference"}),"\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsx)(e.li,{children:(0,c.jsx)(e.a,{href:"https://medium.com/@yanlong/macos%E4%BD%BF%E7%94%A8shadowsocks-libev-simple-obfs%E6%95%99%E7%A8%8B-c10eba9c0758",children:"MacOS\u4F7F\u7528shadowsocks-libev+Simple-OBFS\u6559\u7A0B - YAN LONG - Medium"})}),"\n",(0,c.jsx)(e.li,{children:(0,c.jsx)(e.a,{href:"https://marvinsblog.net/post/2017-01-15-use-shadowsocks-on-macos/",children:"ShadowSocks\u52A9\u529BmacOS\u79D1\u5B66\u4E0A\u7F51 | Marvin's Blog\u3010\u7A0B\u5F0F\u4EBA\u751F\u3011"})}),"\n",(0,c.jsx)(e.li,{children:(0,c.jsx)(e.a,{href:"https://wild-flame.github.io/guides/docs/mac-os-x-setup-guide/shadowsocks",children:"Shadowsocks \xb7 Mac OS X \u914D\u7F6E\u6307\u5357"})}),"\n",(0,c.jsx)(e.li,{children:(0,c.jsx)(e.a,{href:"https://placeless.net/blog/shadowsocks-libev-&-acl-on-macos",children:"shadowsocks-libev & acl on macOS"})}),"\n",(0,c.jsx)(e.li,{children:(0,c.jsx)(e.a,{href:"https://www.wumingx.com/tools/shadowsocks_obfs.html",children:"'shadowsocks-libev+simple-obfs\u6D41\u91CF\u6DF7\u6DC6\u7684\u4E24\u79CD\u65B9\u6848' | \u65E0\u540D\u8001\u5352BLOG"})}),"\n",(0,c.jsx)(e.li,{children:(0,c.jsx)(e.a,{href:"https://shadowsockshelp.github.io/Shadowsocks/mac.html",children:"\u82F9\u679C macOS \u4F7F\u7528 Shadowsocks \u8BBE\u7F6E\u6559\u7A0B | Shadowsocks"})}),"\n",(0,c.jsx)(e.li,{children:(0,c.jsx)(e.a,{href:"https://apple.stackexchange.com/questions/226544/how-to-set-proxy-on-os-x-terminal-permanently",children:"macos - How to set proxy on OS X Terminal permanently? - Ask Different"})}),"\n"]})]})}function d(s={}){let{wrapper:e}={...(0,l.a)(),...s.components};return e?(0,c.jsx)(e,{...s,children:(0,c.jsx)(h,{...s})}):h(s)}},50065:function(s,e,o){o.d(e,{Z:function(){return i},a:function(){return a}});var n=o(67294);let c={},l=n.createContext(c);function a(s){let e=n.useContext(l);return n.useMemo(function(){return"function"==typeof s?s(e):{...e,...s}},[e,s])}function i(s){let e;return e=s.disableParentContext?"function"==typeof s.components?s.components(c):s.components||c:a(s.components),n.createElement(l.Provider,{value:e},s.children)}}}]);