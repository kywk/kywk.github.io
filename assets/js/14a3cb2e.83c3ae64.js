"use strict";(self.webpackChunkkywk_me=self.webpackChunkkywk_me||[]).push([["37189"],{23002:function(e,t,i){i.r(t),i.d(t,{frontMatter:()=>s,toc:()=>h,default:()=>d,metadata:()=>n,assets:()=>a,contentTitle:()=>c});var n=JSON.parse('{"id":"utilities/Git/Git Check remote branch","title":"Git: Remote branch check","description":"Git: check if remote branch exists on a given remote repository","source":"@site/moco/utilities/Git/Git Check remote branch.md","sourceDirName":"utilities/Git","slug":"/utilities/git/git-check-remote-branch/","permalink":"/moco/utilities/git/git-check-remote-branch/","draft":false,"unlisted":false,"tags":[{"inline":true,"label":"Git","permalink":"/moco/tags/git"}],"version":"current","sidebarPosition":61,"frontMatter":{"title":"Git: Remote branch check","description":"Git: check if remote branch exists on a given remote repository","tags":["Git"],"sidebar_position":61,"hide_table_of_contents":true,"date_created":"2021-04-12T07:13:11.000Z","image":"https://lh3.googleusercontent.com/pw/ACtC-3djQkrvy1aqdMWCu9oEoqndQVIiLE9G5ZtlbDehi8_UcJ9pYib4aWForkHYHSu1voqdKMnCowTwGh1MXSnGeNrFwXRaOUCMD8s4rCZ4IuzWXIZ2khQ8KiJyT6SYlbLrnYYqONwaPZxlR8rReuWWMO7SYw=w8000-no?authuser=0","slug":"/utilities/git/git-check-remote-branch/"},"sidebar":"tutorialSidebar","previous":{"title":"Git: add empty folder","permalink":"/moco/utilities/git/git-add-empty-folder/"},"next":{"title":"Visual Studio Code","permalink":"/moco/category/visual-studio-code"}}'),r=i(74848),o=i(84429);let s={title:"Git: Remote branch check",description:"Git: check if remote branch exists on a given remote repository",tags:["Git"],sidebar_position:61,hide_table_of_contents:!0,date_created:new Date("2021-04-12T07:13:11.000Z"),image:"https://lh3.googleusercontent.com/pw/ACtC-3djQkrvy1aqdMWCu9oEoqndQVIiLE9G5ZtlbDehi8_UcJ9pYib4aWForkHYHSu1voqdKMnCowTwGh1MXSnGeNrFwXRaOUCMD8s4rCZ4IuzWXIZ2khQ8KiJyT6SYlbLrnYYqONwaPZxlR8rReuWWMO7SYw=w8000-no?authuser=0",slug:"/utilities/git/git-check-remote-branch/"},c="[Git] check if remote branch exists",a={},h=[];function l(e){let t={a:"a",blockquote:"blockquote",code:"code",h1:"h1",header:"header",p:"p",pre:"pre",strong:"strong",...(0,o.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.header,{children:(0,r.jsx)(t.h1,{id:"git-check-if-remote-branch-exists",children:"[Git] check if remote branch exists"})}),"\n",(0,r.jsx)(t.p,{children:"\u5C08\u6848\u8981\u5E6B\u4E00\u4E9B\u820A\u9805\u76EE\u5C0E\u5165 GitLab CI/CD,\n\u6848\u4F8B\u662F\u6709\u591A\u500B\u9805\u76EE\u9700\u53C3\u8003\u53E6\u4E00\u500B Git \u5171\u7528\u5143\u4EF6\u9805\u76EE, \u901A\u5E38\u6703\u7528 Git SubModule \u4F86\u5F15\u7528\u5171\u7528\u5143\u4EF6\u9805\u76EE.\n\u4F46\u56E0\u820A\u9805\u76EE\u65E2\u6709\u958B\u767C\u6D41\u7A0B\u8207\u7248\u63A7\u7BA1\u7406\u5DF2\u4E45, \u6709\u4E9B\u9700\u6C42\u5BE6\u4F5C\u5C31\u96E3\u4EE5\u8F03\u6B63\u78BA\u7684\u65B9\u5F0F\u9032\u884C."}),"\n",(0,r.jsx)(t.p,{children:"\u8A72\u6848\u4F8B\u4E2D\u7684\u7BA1\u7406\u6D41\u7A0B\u662F: \u958B\u767C\u6642, \u4E3B\u8981\u529F\u80FD\u548C\u5171\u7528\u5143\u4EF6\u9805\u76EE\u90FD\u5EFA\u7ACB\u76F8\u540C\u540D\u7A31\u7684 branch, (Ex: BR-A001)\n\u82E5\u5171\u7528\u5143\u4EF6\u6709\u66F4\u65B0. \u5247 build \u6642\u9700 checkout \u5171\u7528\u5143\u4EF6\u7684 BR-A001 \u5206\u652F\u9032\u884C\u7DE8\u8B6F.\n\u82E5\u5171\u7528\u5143\u4EF6\u6C92\u6709\u66F4\u65B0, \u5247\u4EE5 master \u70BA\u4E3B."}),"\n",(0,r.jsx)(t.p,{children:"\u56E0\u6B64, \u9700\u5728\u547D\u4EE4\u5217\u6A21\u5F0F\u4E0B\u77E5\u9053\u67D0\u500B\u7279\u5B9A\u540D\u7A31\u7684 Branch \u662F\u5426\u5B58\u5728."}),"\n",(0,r.jsxs)(t.p,{children:["\u627E\u4E86\u4E00\u4E0B, \u539F\u4F86 ",(0,r.jsx)(t.code,{children:"ls-remote"})," \u914D\u5408 ",(0,r.jsx)(t.code,{children:"--exit-code"})," \u53EF\u4EE5\u5F97\u77E5\u67D0\u500B branch-name \u662F\u5426\u5B58\u5728\u9060\u7AEF repos \u4E0A.\n",(0,r.jsx)(t.a,{href:"https://git-scm.com/docs/git-ls-remote",children:"\u5B98\u65B9\u8AAA\u660E"})," \u5982\u4E0B:"]}),"\n",(0,r.jsxs)(t.blockquote,{children:["\n",(0,r.jsx)(t.p,{children:'--exit-code\nExit with status "2" when no matching refs are found in the remote repository. Usually the command exits with status "0" to indicate it successfully talked with the remote repository, whether it found any matching refs.'}),"\n"]}),"\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.strong,{children:"UNiX-like Shell"})}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-bash",children:"$ git ls-remote --exit-code --heads origin <branch-that-exists-in-origin>\n=> return 0\n\n$ git ls-remote --exit-code --heads origin <branch-that-not-exists-origin>\n=> return 2\n"})}),"\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.strong,{children:"PowerShell"})}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-powershell",children:"$ if (git ls-remote --exit-code --heads origin <branch-that-exists-in-origin>) { $true } else\n{ $false }\n"})}),"\n",(0,r.jsxs)(t.p,{children:["Ref: ",(0,r.jsx)(t.a,{href:"https://stackoverflow.com/questions/8223906/how-to-check-if-remote-branch-exists-on-a-given-remote-repository",children:"git - How to check if remote branch exists on a given remote repository? - Stack Overflow"})]})]})}function d(e={}){let{wrapper:t}={...(0,o.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(l,{...e})}):l(e)}},84429:function(e,t,i){i.d(t,{R:()=>s,x:()=>c});var n=i(96540);let r={},o=n.createContext(r);function s(e){let t=n.useContext(o);return n.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function c(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:s(e.components),n.createElement(o.Provider,{value:t},e.children)}}}]);