"use strict";(self.webpackChunkkywk_me=self.webpackChunkkywk_me||[]).push([["70816"],{98029:function(e,n,i){i.r(n),i.d(n,{default:()=>h,frontMatter:()=>t,metadata:()=>s,assets:()=>l,toc:()=>d,contentTitle:()=>o});var s=JSON.parse('{"id":"utilities/CLI/direnv gitconfig","title":"direnv + gitconfig","description":"direnv + gitconfig","source":"@site/moco/utilities/CLI/direnv gitconfig.md","sourceDirName":"utilities/CLI","slug":"/utilities/CLI/direnv gitconfig","permalink":"/moco/utilities/CLI/direnv gitconfig","draft":false,"unlisted":false,"tags":[{"inline":true,"label":"CLI","permalink":"/moco/tags/cli"}],"version":"current","sidebarPosition":10,"frontMatter":{"title":"direnv + gitconfig","description":"direnv + gitconfig","image":"https://lh3.googleusercontent.com/pw/AL9nZEUA9Ifvd5Z8SXDWkeVB6AC4MPGwnXaL6kBXNPoXwOQQ2jOcZ1Jw_0p8TKK8C3ZX0e67_FOY15eDrm7aaXSQJcKtoUzC80SAQEHsaBy6qS2AqNNs5VUFNXBKm439y_1wkvmDl-PnL8ReojnIumNlEvOXBg=w800-no?authuser=0","tags":["CLI"],"sidebar_position":10,"hide_table_of_contents":false,"date_created":"2025-06-06T00:00:00.000Z","date_updated":"2025-06-06T00:00:00.000Z"},"sidebar":"tutorialSidebar","previous":{"title":"ansifilter","permalink":"/moco/utilities/CLI/ansifilter"},"next":{"title":"direnv","permalink":"/moco/utilities/CLI/direnv"}}'),c=i("85893"),r=i("50065");let t={title:"direnv + gitconfig",description:"direnv + gitconfig",image:"https://lh3.googleusercontent.com/pw/AL9nZEUA9Ifvd5Z8SXDWkeVB6AC4MPGwnXaL6kBXNPoXwOQQ2jOcZ1Jw_0p8TKK8C3ZX0e67_FOY15eDrm7aaXSQJcKtoUzC80SAQEHsaBy6qS2AqNNs5VUFNXBKm439y_1wkvmDl-PnL8ReojnIumNlEvOXBg=w800-no?authuser=0",tags:["CLI"],sidebar_position:10,hide_table_of_contents:!1,date_created:new Date("2025-06-06T00:00:00.000Z"),date_updated:new Date("2025-06-06T00:00:00.000Z")},o="direnv + gitconfig",l={},d=[{value:"\u2705 \u65B9\u6CD5\u7E3D\u7D50\uFF1A<code>direnv</code> + <code>GIT_CONFIG_GLOBAL</code> + <code>sshCommand</code>",id:"-\u65B9\u6CD5\u7E3D\u7D50direnv--git_config_global--sshcommand",level:2},{value:"\uD83D\uDD0D \u70BA\u4EC0\u9EBC\u9019\u505A\u6CD5\u5F88\u4E7E\u6DE8\uFF1F",id:"-\u70BA\u4EC0\u9EBC\u9019\u505A\u6CD5\u5F88\u4E7E\u6DE8",level:2},{value:"\uD83E\uDDEA \u5BE6\u969B\u6548\u679C\u793A\u4F8B",id:"-\u5BE6\u969B\u6548\u679C\u793A\u4F8B",level:2},{value:"\uD83D\uDEE0\uFE0F \u5EF6\u4F38\u6280\u5DE7\uFF08\u53EF\u9078\uFF09",id:"\uFE0F-\u5EF6\u4F38\u6280\u5DE7\u53EF\u9078",level:2},{value:"See Also",id:"see-also",level:2}];function a(e){let n={a:"a",blockquote:"blockquote",code:"code",em:"em",h1:"h1",h2:"h2",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.a)(),...e.components};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(n.header,{children:(0,c.jsx)(n.h1,{id:"direnv--gitconfig",children:"direnv + gitconfig"})}),"\n",(0,c.jsxs)(n.blockquote,{children:["\n",(0,c.jsxs)(n.p,{children:["\u5DE5\u4F5C\u4E0A\u9047\u5230\u540C\u4E00\u500B Host (\u5982 GitHub) \u7684\u4E0D\u540C\u5C08\u6848, \u9700\u642D\u914D\u4E0D\u540C ssh key, \u904E\u53BB\u6703\u4FEE\u6539 ",(0,c.jsx)(n.code,{children:".git/config"})," \u7684 remote host \u540D\u5B57, \u4E26\u642D\u914D ",(0,c.jsx)(n.code,{children:".ssh/config"})," \u7684\u8A2D\u5B9A.\n\u5728\u4E86\u89E3 direnv \u548C gitconfig \u7684\u904E\u7A0B, \u767C\u89BA\u9084\u6709\u66F4\u597D\u7684\u4F5C\u6CD5..."]}),"\n"]}),"\n",(0,c.jsxs)(n.p,{children:["\u4F7F\u7528 ",(0,c.jsx)(n.code,{children:"direnv"})," \u642D\u914D\u6BCF\u500B\u5C08\u6848\u81EA\u5DF1\u7684 ",(0,c.jsx)(n.code,{children:".gitconfig"}),"\uFF0C\u900F\u904E ",(0,c.jsx)(n.code,{children:"core.sshCommand"})," \u4F86\u81EA\u8A02\u5C08\u6848\u4F7F\u7528\u7684 SSH \u8A2D\u5B9A\uFF0C ",(0,c.jsxs)(n.strong,{children:["\u7121\u9700 alias ",(0,c.jsx)(n.code,{children:"ssh"})," \u6216\u5168\u5C40\u6539\u52D5"]}),"\u3002"]}),"\n",(0,c.jsx)(n.hr,{}),"\n",(0,c.jsxs)(n.h2,{id:"-\u65B9\u6CD5\u7E3D\u7D50direnv--git_config_global--sshcommand",children:["\u2705 \u65B9\u6CD5\u7E3D\u7D50\uFF1A",(0,c.jsx)(n.code,{children:"direnv"})," + ",(0,c.jsx)(n.code,{children:"GIT_CONFIG_GLOBAL"})," + ",(0,c.jsx)(n.code,{children:"sshCommand"})]}),"\n",(0,c.jsxs)(n.ol,{children:["\n",(0,c.jsxs)(n.li,{children:[(0,c.jsxs)(n.strong,{children:["\u70BA\u6BCF\u500B\u5C08\u6848\u5EFA\u7ACB\u81EA\u5DF1\u7684 ",(0,c.jsx)(n.code,{children:".gitconfig"})]}),"\uFF1A"]}),"\n"]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-ini",children:"[user]\n  name = Alice ProjectA\n  email = alice@project-a.com\n\n[core]\n  sshCommand = ssh -F ~/.ssh/config.project-a\n"})}),"\n",(0,c.jsxs)(n.ol,{start:"2",children:["\n",(0,c.jsxs)(n.li,{children:[(0,c.jsxs)(n.strong,{children:["\u5728\u8A72\u5C08\u6848\u76EE\u9304\u653E ",(0,c.jsx)(n.code,{children:".envrc"})]}),"\uFF1A"]}),"\n"]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-bash",children:"export GIT_CONFIG_GLOBAL=$PWD/.gitconfig\n"})}),"\n",(0,c.jsxs)(n.ol,{start:"3",children:["\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.strong,{children:"\u555F\u7528 direnv"}),"\uFF1A"]}),"\n"]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-bash",children:"direnv allow\n"})}),"\n",(0,c.jsx)(n.p,{children:"\u9019\u6A23\u7576\u4F60\u9032\u5165\u8A72\u76EE\u9304\u6642\uFF1A"}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsxs)(n.li,{children:["Git \u6703\u4F7F\u7528\u8A72\u76EE\u9304\u7684 ",(0,c.jsx)(n.code,{children:".gitconfig"})]}),"\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.code,{children:".gitconfig"})," \u4E2D\u7684 ",(0,c.jsx)(n.code,{children:"core.sshCommand"})," \u6307\u5B9A\u4E86\u5C0D\u61C9\u7684 SSH config \u6A94\u6848"]}),"\n",(0,c.jsx)(n.li,{children:"SSH \u7684 IdentityFile \u5C31\u6839\u64DA\u9019\u500B\u6A94\u6848\u8D70"}),"\n"]}),"\n",(0,c.jsx)(n.hr,{}),"\n",(0,c.jsx)(n.h2,{id:"-\u70BA\u4EC0\u9EBC\u9019\u505A\u6CD5\u5F88\u4E7E\u6DE8",children:"\uD83D\uDD0D \u70BA\u4EC0\u9EBC\u9019\u505A\u6CD5\u5F88\u4E7E\u6DE8\uFF1F"}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsxs)(n.li,{children:["\u4E0D\u52D5\u7528\u5168\u57DF ",(0,c.jsx)(n.code,{children:".ssh/config"}),"\uFF08\u53EF\u4FDD\u7559\u55AE\u7D14\uFF09"]}),"\n",(0,c.jsxs)(n.li,{children:["\u4E0D\u9700\u8981\u4FEE\u6539 ",(0,c.jsx)(n.code,{children:".zshrc"})," \u6216 ",(0,c.jsx)(n.code,{children:"alias ssh=..."})]}),"\n",(0,c.jsx)(n.li,{children:"\u6240\u6709\u8A2D\u5B9A\u7559\u5728\u5C08\u6848\u4E2D\uFF0C\u66F4\u53EF\u7DAD\u8B77 & \u53EF\u651C"}),"\n"]}),"\n",(0,c.jsx)(n.hr,{}),"\n",(0,c.jsx)(n.h2,{id:"-\u5BE6\u969B\u6548\u679C\u793A\u4F8B",children:"\uD83E\uDDEA \u5BE6\u969B\u6548\u679C\u793A\u4F8B"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-bash",children:"# \u9032\u5165 ~/work/project-a/\n$ git clone git@github.com:your-org/project-a.git\n# => \u4F7F\u7528 ~/.ssh/config.project-a \u4E2D\u8A2D\u5B9A\u7684\u79C1\u9470\u81EA\u52D5\u9023\u63A5\n"})}),"\n",(0,c.jsx)(n.hr,{}),"\n",(0,c.jsx)(n.h2,{id:"\uFE0F-\u5EF6\u4F38\u6280\u5DE7\u53EF\u9078",children:"\uD83D\uDEE0\uFE0F \u5EF6\u4F38\u6280\u5DE7\uFF08\u53EF\u9078\uFF09"}),"\n",(0,c.jsxs)(n.p,{children:["\u5982\u679C\u4F60\u9084\u60F3\u8981\u300C\u540C\u6642\u52D5\u614B\u5207\u63DB gitconfig + node + \u74B0\u5883\u8B8A\u6578\u300D\uFF0C\u53EF\u4EE5\u9019\u6A23\u5BEB ",(0,c.jsx)(n.code,{children:".envrc"}),"\uFF1A"]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-bash",children:'use node 20\nexport GIT_CONFIG_GLOBAL=$PWD/.gitconfig\nexport SSH_AUTH_SOCK="$XDG_RUNTIME_DIR/ssh-agent.socket"\n'})}),"\n",(0,c.jsx)(n.hr,{}),"\n",(0,c.jsx)(n.h2,{id:"see-also",children:"See Also"}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.a,{href:"https://news.ycombinator.com/item?id=42233524",children:"How I configure my Git identities | Hacker News"}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsx)(n.li,{children:(0,c.jsx)(n.a,{href:"https://blog.gslin.org/archives/2024/11/25/12100/git-%E7%9A%84-hasconfigremote-url/",children:"Git \u7684 hasconfig:remote.*.url: \u2013 Gea-Suan Lin's BLOG"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,c.jsx)(n.p,{children:(0,c.jsx)(n.em,{children:"Assisted by ChatGPT"})})]})}function h(e={}){let{wrapper:n}={...(0,r.a)(),...e.components};return n?(0,c.jsx)(n,{...e,children:(0,c.jsx)(a,{...e})}):a(e)}},50065:function(e,n,i){i.d(n,{Z:function(){return o},a:function(){return t}});var s=i(67294);let c={},r=s.createContext(c);function t(e){let n=s.useContext(r);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(c):e.components||c:t(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);